{"HISTORY":"<!-- --><br>ColdFusion 8: Added this tag.<br>","SYNTAX":"<!-- --><br><strong>delete<\/strong> \r\n&lt;cfzip \r\n    <strong>required<\/strong> \r\n    action = &quot;delete&quot; \r\n    file = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">absolute pathname<\/i>&quot; \r\n    <strong>optional<\/strong> \r\n    entrypath = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">full pathname<\/i>&quot; \r\n    filter = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">file filter<\/i>&quot; \r\n    recurse = &quot;yes|no&quot;&gt; \r\n \r\n<strong>list<\/strong> \r\n&lt;cfzip \r\n    <strong>required<\/strong> \r\n    action = &quot;list&quot; \r\n    file = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">absolute pathname<\/i>&quot; \r\n    name = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">recordset name<\/i>&quot; \r\n    <strong>optional<\/strong> \r\n    filter = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">file filter<\/i>&quot; \r\n    recurse = &quot;yes|no&quot; \r\n    showDirectory= &quot;yes|no&quot;&gt; \r\n \r\n<strong>read<\/strong> \r\n&lt;cfzip \r\n    <strong>required<\/strong> \r\n    action = &quot;read&quot; \r\n    entrypath = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">full pathname<\/i>&quot; \r\n    file = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">absolute pathname<\/i>&quot; \r\n    variable = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">variable name<\/i>&quot; \r\n    <strong>optional<\/strong> \r\n    charset = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">encoding type<\/i>&quot;&gt; \r\n \r\n<strong>readBinary<\/strong> \r\n&lt;cfzip \r\n    <strong>required<\/strong> \r\n    action = &quot;readBinary&quot; \r\n    entrypath = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">full pathname<\/i>&quot; \r\n    file = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">absolute pathname<\/i>&quot; \r\n    variable = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">variable name<\/i>&quot;&gt; \r\n \r\n<strong>unzip<\/strong> \r\n&lt;cfzip \r\n    <strong>required<\/strong> \r\n    action = &quot;unzip&quot; \r\n    destination = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">destination directory<\/i>&quot; \r\n    file = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">absolute pathname<\/i>&quot; \r\n    <strong>optional<\/strong> \r\n    entrypath = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">full pathname<\/i>&quot; \r\n    filter = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">file filter<\/i>&quot; \r\n    overwrite = &quot;yes|no&quot; \r\n    recurse = &quot;yes|no&quot; \r\n    storePath = &quot;yes|no&quot;&gt; \r\n \r\n<strong>zip<\/strong> \r\n&lt;cfzip \r\n    <strong>required<\/strong> \r\n    file = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">absolute pathname<\/i>&quot; \r\n    <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">One of the following:<\/i> \r\n    source = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">source directory<\/i>&quot; \r\n    &lt;cfzipparam source = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">source directory<\/i>&quot; ...&gt; \r\n    <strong>optional<\/strong> \r\n    action = &quot;zip&quot; \r\n    filter = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">file filter<\/i>&quot; \r\n    overwrite = &quot;yes|no&quot; \r\n    prefix = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">string<\/i>&quot; \r\n    recurse = &quot;yes|no&quot; \r\n    storePath = &quot;yes|no&quot;&gt;<br><span class=\"notetitle\">Note: <\/span>You can specify this tag’s attributes in an \n<samp class=\"codeph\">attributeCollection<\/samp> attribute whose value is a structure. Specify the structure name in the \n<samp class=\"codeph\">attributeCollection<\/samp> attribute and use the tag’s attribute names as structure keys.<br>","CATEGORY":"File management tags","PAGENAME":"cfzip","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7693.html\">cfzipparam<\/a><\/samp><br>","DESCRIPTION":"Manipulates ZIP and Java Archive (JAR) files. In addition to the basic zip and unzip functions, use the cfzip tag to delete entries from an archive, filter files, read files in binary format, list the contents of an archive, and specify an entry path used in an executable JAR file.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>The following example shows how to zip image files chosen from a form and e-mail the ZIP file to the person requesting the images.<br>The first ColdFusion page populates a pop-up menu with the names of artists generated from a database query:<br>&lt;!--- Create a query to extract artist names from the cfartgallery database. ---&gt; \r\n&lt;cfquery name=&quot;artist&quot; datasource=&quot;cfartgallery&quot;&gt; \r\n    SELECT FIRSTNAME || ' ' || LASTNAME AS FULLNAME,ARTISTS.ARTISTID \r\n    FROM ARTISTS \r\n&lt;\/cfquery&gt; \r\n \r\n&lt;!--- Create a form that lists the artists generated by the query. ---&gt; \r\n&lt;cfform action=&quot;zipArt_action.cfm&quot; method=&quot;post&quot;&gt; \r\n&lt;h3&gt;Choose an Artist&lt;\/h3&gt; \r\n&lt;p&gt;Please choose an artist:&lt;\/p&gt; \r\n&lt;cfselect name=&quot;artistName&quot; query=&quot;artist&quot; display=&quot;FULLNAME&quot; value=&quot;ARTISTID&quot; required=&quot;yes&quot; multiple=&quot;no&quot; size=&quot;8&quot;&gt; \r\n&lt;\/cfselect&gt; \r\n&lt;br\/&gt;&lt;cfinput type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;OK&quot;&gt; \r\n&lt;\/cfform&gt;<br>The first action page displays the images by the selected artist, zips the files, and writes the ZIP file to a temporary directory. Also, it includes a form to e-mail the ZIP file:<br>&lt;!--- Create a query to extract artwork for the selected artist from the cfartgallery database. ---&gt; \r\n&lt;cfquery name=&quot;artwork&quot; datasource=&quot;cfartgallery&quot;&gt; \r\n    SELECT FIRSTNAME, LASTNAME, LARGEIMAGE \r\n    FROM ARTISTS, ART \r\n    WHERE ARTISTS.ARTISTID = ART.ARTISTID \r\n    AND ARTISTS.ARTISTID=&lt;cfqueryparam value=&quot;#form.artistName#&quot;&gt; \r\n    ORDER BY ARTNAME \r\n&lt;\/cfquery&gt; \r\n \r\n&lt;cfoutput&gt; \r\n&lt;p&gt;You have chosen the work of #artwork.FirstName# #artwork.LastName#.&lt;\/p&gt; \r\n&lt;cfset thisDir = ExpandPath(&quot;.&quot;)&gt; \r\n&lt;cfset imgDir = ExpandPath(&quot;..&quot;)&gt; \r\n&lt;\/cfoutput&gt; \r\n&lt;cfset xctr = 1&gt; \r\n&lt;table border=&quot;0&quot; cellpadding=&quot;15&quot; cellspacing=&quot;0&quot; bgcolor=&quot;#FFFFFF&quot;&gt; \r\n&lt;cfoutput query=&quot;artwork&quot;&gt; \r\n    &lt;cfif xctr mod 3 eq 1&gt; \r\n    &lt;tr&gt; \r\n        &lt;\/cfif&gt; \r\n        &lt;!--- Use the IsImageFile function to verify that the image files  \r\n            extracted from the database are valid. Use the ImageNew function to  \r\n                create a ColdFusion image from valid image files. ---&gt; \r\n        &lt;cfif IsImageFile(&quot;#imgdir#\/cfdocs\/images\/artgallery\/ \r\n                #artwork.largeImage#&quot;)&gt; \r\n        &lt;cfset myImage=ImageNew(&quot;#imgdir#\/cfdocs\/images\/artgallery\/ \r\n                #artwork.largeImage#&quot;)&gt; \r\n            &lt;td valign=&quot;top&quot; align=&quot;center&quot; width=&quot;200&quot;&gt; \r\n            &lt;cfset xctr = xctr + 1&gt; \r\n        &lt;img src=&quot;#imgdir#\/cfdocs\/images\/artgallery\/#artwork.largeImage#&quot;\/&gt; \r\n            &lt;\/td&gt; \r\n                 \r\n&lt;!---Zip the files by the specified artist. ---&gt; \r\n        <strong>&lt;cfzip source=&quot;#imgDir#\/cfdocs\/images\/artgallery\/#artwork.LARGEIMAGE#&quot; <\/strong> \r\n            <strong>action=&quot;zip&quot; file=&quot;#thisDir#\/#artwork.lastname#.zip&quot;&gt;<\/strong> \r\n            &lt;\/cfif&gt; \r\n                &lt;\/cfoutput&gt; \r\n                &lt;\/tr&gt; \r\n                &lt;\/table&gt; \r\n&lt;h3&gt;Mail the ZIP File&lt;\/h3&gt; \r\n&lt;p&gt;Please enter your e-mail address so we can send you the ZIP file as an attachment.&lt;\/p&gt; \r\n&lt;cfform action = &quot;zipArt_action2.cfm&quot; method=&quot;post&quot;&gt; \r\nYour e-mail address: &lt;cfinput type = &quot;Text&quot; name = &quot;MailTo&quot;&gt; \r\n&lt;!--- Specify the required field. ---&gt; \r\n    &lt;cfinput type = &quot;hidden&quot; name = &quot;MailTo_required&quot; value = &quot;You must enter  \r\n            your email address&quot;&gt; \r\n    &lt;cfinput type=&quot;hidden&quot; name=&quot;zipPath&quot; \r\n            value=&quot;#thisDir#\/#artwork.lastname#.zip&quot;&gt; \r\n    &lt;p&gt;&lt;cfinput type = &quot;Submit&quot; name = &quot;OK&quot; label=&quot;Mail&quot;&gt; \r\n&lt;\/cfform&gt;<br>The second action page mails the ZIP file as an attachment:<br>&lt;h3&gt;Mail the ZIP file&lt;\/h3&gt; \r\n&lt;p&gt;Your file has been mailed to you.&lt;\/p&gt; \r\n&lt;cfset eMail=&quot;#form.MailTo#&quot;&gt; \r\n&lt;cfset zipPath=&quot;#form.zipPath#&quot;&gt; \r\n&lt;cfmail from=&quot;coldfusion@adobe.com&quot; to=&quot;#eMail#&quot; subject=&quot;see zipped attachment&quot;&gt; \r\n    The images you requested are enclosed in a ZIP file. \r\n            &lt;cfmailparam file=&quot;#zipPath#&quot;&gt; \r\n&lt;\/cfmail&gt;<br>","USAGE":"<!-- --><br>Use the <samp class=\"codeph\">cfzip<\/samp> tag to zip and unzip files and manipulate existing ZIP or JAR files in ColdFusion. You can use the <samp class=\"codeph\">cfzip<\/samp> tag independently or with one or more <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7693.html\">cfzipparam<\/a><\/samp> tags to manipulate multiple files or directories. The <samp class=\"codeph\">cfzip<\/samp> tag is the parent tag of the <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7693.html\">cfzipparam<\/a><\/samp> tag.<br>The ZIP format is the standard format for file archiving and compression. The JAR format is based on the ZIP format. JAR files are platform-independent.<br><span class=\"notetitle\">Note: <\/span>The cfzip tag does not create directories. If you specify a directory that does not exist, ColdFusion generates an error.<br>Use the following syntax to specify an in-memory file or directory in any attribute that takes a path. In-memory files are not written to disk and speed processing of transient data.<br>ram:\/\/\/<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">filepath<\/i><br>The filepath can include multiple directories, for example <samp class=\"codeph\">ram:\/\/\/petStore\/images\/dogImages.zip<\/samp>. You must create the directories in the path before you specify the file. For more information on using in-memory files, see <a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSe9cbe5cf462523a0-70e2363b121825b20e7-8000.html\" target=\"_self\">Working with in-memory files<\/a> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i>.<br>","Attribute":[{"REQOROPT":"N\/A","DESCRIPTION":"zip","default":"Optional","Attribute":"action"},{"REQOROPT":"read","DESCRIPTION":"default encoding of the host machine","default":"Optional","Attribute":"charset"},{"REQOROPT":"unzip","DESCRIPTION":"","default":"Required","Attribute":"destination"},{"REQOROPT":"delete read readBinary unzip","DESCRIPTION":"","default":"Optional","Attribute":"entryPath"},{"REQOROPT":"delete list read readBinary unzip zip","DESCRIPTION":"","default":"Required","Attribute":"file"},{"REQOROPT":"delete list unzip zip","DESCRIPTION":"","default":"Optional","Attribute":"filter"},{"REQOROPT":"list","DESCRIPTION":"","default":"Required","Attribute":"name"},{"REQOROPT":"unzip zip","DESCRIPTION":false,"default":"Optional","Attribute":"overwrite"},{"REQOROPT":"zip","DESCRIPTION":"","default":"Optional","Attribute":"prefix"},{"REQOROPT":"delete list unzip zip","DESCRIPTION":true,"default":"Optional","Attribute":"recurse"},{"REQOROPT":"list","DESCRIPTION":false,"default":"Optional","Attribute":"showDirectory"},{"REQOROPT":"zip","DESCRIPTION":"","default":"Required (see description)","Attribute":"source"},{"REQOROPT":"unzip zip","DESCRIPTION":true,"default":"Optional","Attribute":"storePath"},{"REQOROPT":"read readBinary","DESCRIPTION":"","default":"Required","Attribute":"variable"}]}