{"HISTORY":"<!-- --><br>ColdFusion 9: Added support for Solr search engine.<br>ColdFusion MX 7:<br><li><p>Added <samp class=\"codeph\">category<\/samp>, <samp class=\"codeph\">categoryTree<\/samp>, <samp class=\"codeph\">status<\/samp>, <samp class=\"codeph\">suggestions<\/samp>, <samp class=\"codeph\">contextPassages<\/samp>, <samp class=\"codeph\">contextBytes<\/samp>, <samp class=\"codeph\">contextHighlightBegin<\/samp>, <samp class=\"codeph\">contextHighlightEnd<\/samp>, and <samp class=\"codeph\">previousCriteria<\/samp> attributes. <\/p> <\/li> \n<li><p>Added <samp class=\"codeph\">author<\/samp>, <samp class=\"codeph\">category<\/samp>, <samp class=\"codeph\">categoryTree<\/samp>, <samp class=\"codeph\">context<\/samp>, <samp class=\"codeph\">rank<\/samp>, <samp class=\"codeph\">size<\/samp>, <samp class=\"codeph\">recordsSearched<\/samp>, and <samp class=\"codeph\">type<\/samp> result columns.<\/p> <\/li> \n<li><p>Added information on the status structure and its associated keys.<\/p> <\/li> \n<li><p>Removed references to a separate K2 server and k2server.ini file.<\/p> <\/li> \n<li><p>Removed references to unregistered collections.<\/p> <\/li> \n<li><p>Removed references to external collections. ColdFusion MX now manages all collections through the Verity Search service.<\/p> <\/li> \n<li><p>Changed <samp class=\"codeph\">cflock<\/samp> recommendation. It is no longer a best practice to surround the <samp class=\"codeph\">cfsearch<\/samp> tag with a <samp class=\"codeph\">cflock<\/samp> tag.<\/p> <\/li><br>ColdFusion MX:<br><li><p>Deprecated the <samp class=\"codeph\">external<\/samp> attribute. It might not work, and might cause an error, in later releases. (ColdFusion stores this information about each collection; it automatically detects whether a collection is internal or external.) This tag supports absolute (also known as fully qualified) collection pathnames and mapped collection names. <\/p> <\/li> \n<li><p>Changed query result behavior: the <samp class=\"codeph\">cfindex<\/samp> tag can index the query results from a <samp class=\"codeph\">cfsearch<\/samp> operation. <\/p> <\/li> \n<li><p>Changed Verity operations behavior: ColdFusion supports Verity operations on Acrobat PDF files.<\/p> <\/li> \n<li><p>Changed multiple collection behavior: this tag can search multiple collections. In a multiple collection search, you cannot combine collections that are registered with K2Server and registered in another way.<\/p> <\/li> \n<li><p>Changed acceptable collection naming: this tag accepts collection names that include spaces. <\/p> <\/li> \n<li><p>Changed the following support: this tag supports Verity 2.6.1 and the LinguistX and ICU locales. <\/p> <\/li> \n<li><p>Changed thrown exceptions: this tag can throw the SEARCHENGINE exception.<\/p> <\/li><br>","SYNTAX":"<!-- --><br>&lt;cfsearch  \r\n    collection = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">collection name<\/i>&quot; \r\n    name = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">search name<\/i>&quot; \r\n    category = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">category<\/i>[,<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">category2<\/i>,...]&quot; \r\n    categoryTree = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">tree location<\/i>&quot; \r\n    contextBytes = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">number of bytes<\/i>&quot; \r\n    contextHighlightBegin = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">HTML string<\/i>&quot; \r\n    contextHighlightEnd = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">HTML string<\/i>&quot; \r\n    contextPassages = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">number of passages<\/i>&quot; \r\n    criteria = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">search expression<\/i>&quot; \r\n    language = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">language<\/i>&quot; \r\n    maxRows = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">number<\/i>&quot; \r\n    previousCriteria = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">criteria<\/i>&quot; \r\n    startRow = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">row number<\/i>&quot; \r\n    status = &quot;&quot; \r\n    suggestions = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">suggestion option<\/i>&quot; \r\n    type = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">criteria<\/i>&quot;&gt;<br><span class=\"notetitle\">Note: <\/span>You can specify this tag's attributes in an \n<samp class=\"codeph\">attributeCollection<\/samp> attribute whose value is a structure. Specify the structure name in the \n<samp class=\"codeph\">attributeCollection<\/samp> attribute and use the tagâ€™s attribute names as structure keys.<br>","CATEGORY":"Extensibility tags","PAGENAME":"cfsearch","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7d03.html\">cfcollection<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7d56.html\">cfexecute<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7d04.html\">cfindex<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7f6e.html\">cfobject<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7c1d.html\">cfreport<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7ca6.html\">cfwddx<\/a><\/samp><br>","DESCRIPTION":"Searches one or more Solr or Verity collections.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>&lt;!--- #1 (TYPE=SIMPLE) -----------------------------&gt; \r\n&lt;cfsearch  \r\n    name=&quot;name&quot;  \r\n    collection=&quot;snippets,syntax,snippets&quot;  \r\n    criteria=&quot;example&quot;  \r\n    maxrows = &quot;100&quot;&gt; \r\n&lt;p&gt; \r\n&lt;cfoutput&gt;Search Result total =#name.RecordCount# &lt;\/cfoutput&gt;&lt;br&gt; \r\n&lt;cfoutput&gt; \r\n    url=#name.url#&lt;br&gt; \r\n    key=#name.key#&lt;br&gt; \r\n    title=#name.title#&lt;br&gt; \r\n    score=#name.score#&lt;br&gt; \r\n    custom1=#name.custom1#&lt;br&gt; \r\n    custom2=#name.custom2#&lt;br&gt; \r\n    summary=#name.summary#&lt;br&gt; \r\n    recordcount=#name.recordcount#&lt;br&gt; \r\n    currentrow=#name.currentrow#&lt;br&gt; \r\n    columnlist=#name.columnlist#&lt;br&gt; \r\n    recordssearched=#name.recordssearched#&lt;br&gt; \r\n&lt;\/cfoutput&gt; \r\n&lt;cfdump var = #name#&gt; \r\n&lt;br&gt; \r\n \r\n&lt;!--- #2 (TYPE=EXPLICIT) -----------------------------&gt; \r\n&lt;cfsearch  \r\n    name = &quot;snippets&quot; \r\n    collection = &quot;snippets&quot; \r\n    criteria = '&lt;wildcard&gt;`film{ing,ed}`' \r\n    type=&quot;explicit&quot; \r\n    startrow=1 \r\n    maxrows = &quot;100&quot;&gt; \r\n&lt;cfoutput  \r\n    query=&quot;snippets&quot;&gt; \r\n    url=#url#&lt;br&gt; \r\n    key=#key#&lt;br&gt; \r\n    title=#title#&lt;br&gt; \r\n    score=#score#&lt;br&gt; \r\n    custom1=#custom1#&lt;br&gt; \r\n    custom2=#custom2#&lt;br&gt; \r\n    summary=#summary#&lt;br&gt; \r\n    recordcount=#recordcount#&lt;br&gt; \r\n    currentrow=#currentrow#&lt;br&gt; \r\n    columnlist=#columnlist#&lt;br&gt; \r\n    recordssearched=#recordssearched#&lt;br&gt; \r\n&lt;\/cfoutput&gt; \r\n&lt;cfdump var = #snippets#&gt;  \r\n&lt;br&gt; \r\n \r\n&lt;!--- #3 (search by CF key) -----------------------------&gt; \r\n&lt;cfsearch  \r\n    name = &quot;book&quot; \r\n    collection = &quot;custom_book&quot; \r\n    criteria = &quot;cf_key=bookid2&quot; \r\n    maxrows = &quot;100&quot;&gt; \r\n&lt;cfoutput&gt; \r\n    url=#book.url#&lt;br&gt; \r\n    key=#book.key#&lt;br&gt; \r\n    title=#book.titleE#&lt;br&gt; \r\n    score=#book.score#&lt;br&gt; \r\n    custom1=#book.custom1#&lt;br&gt; \r\n    custom2=#book.custom2#&lt;br&gt; \r\n    summary=#book.summary#&lt;br&gt; \r\n    recordcount=#book.recordcount#&lt;br&gt; \r\n    currentrow=#book.currentrow#&lt;br&gt; \r\n    columnlist=#book.columnlist#&lt;br&gt; \r\n    recordssearched=#book.recordssearched#&lt;br&gt; \r\n&lt;\/cfoutput&gt; \r\n&lt;cfdump var = #book#&gt;<br>","USAGE":"<!-- --><br>The <samp class=\"codeph\">cfsearch<\/samp> tag returns a query object whose columns you can reference in a <samp class=\"codeph\">cfoutput<\/samp> tag. For example, the following code specifies a search for the exact terms &quot;filming&quot; or &quot;filmed&quot;:<br>&lt;cfsearch \r\n    name = &quot;mySearch&quot; \r\n    collection = &quot;myCollection&quot; \r\n    criteria = '&lt;WILDCARD&gt;`film{ing,ed}`' \r\n    type=&quot;explicit&quot; \r\n    startrow=1 \r\n    maxrows = &quot;100&quot;&gt; \r\n&lt;cfdump var = &quot;#mySearch#&gt;<br>In this example, the single-quotation mark (<samp class=\"codeph\">'<\/samp>) and backtick (<samp class=\"codeph\">`<\/samp>) characters are used as delimiters; for more information, see <a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSc3ff6d0ea77859461172e0811cbec22c24-7b4a.html\" target=\"_self\">Using Verity Search Expressions<\/a> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i>.<br>To optimize search performance, always specify the <samp class=\"codeph\">maxrows<\/samp> attribute, setting it to a value that matches your applicationâ€™s needs. A value less than 300 helps to ensure optimal performance.<br>Adobe does not recommend using the <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7f5d.html\">cflock<\/a><\/samp> tag with this tag; Verity\/Solr provides the locking function. Using the <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7f5d.html\">cflock<\/a><\/samp>tag slows search performance.<br>","Attribute":[{"REQOROPT":"Required","DESCRIPTION":"Name of the search query.","default":"Â ","Attribute":"name"},{"REQOROPT":"Required","DESCRIPTION":"One or more collection names. You can specify more than one collection unless you are performing a category search (that is, specifying category or categoryTree).","default":"Â ","Attribute":"collection"},{"REQOROPT":"Optional","DESCRIPTION":"A list of categories, separated by commas, to which the search is limited. If specified, and the collection does not have categories enabled, ColdFusion throws an exception.","default":"Â ","Attribute":"category"},{"REQOROPT":"Optional","DESCRIPTION":"The location in a hierarchical category tree at which to start the search. ColdFusion searches at and below this level. If specified, and the collection does not have categories enabled, ColdFusion throws an exception. Can be used in addition to the category attribute.","default":"Â ","Attribute":"categoryTree"},{"REQOROPT":"Optional","DESCRIPTION":"Search criteria. Follows the syntax rules of the type attribute. If you pass a mixed-case entry in this attribute, the search is case sensitive. If you pass all uppercase or all lowercase, the search is case-insensitive. Follow Verity or Solr syntax and delimiter character rules; see Using Verity Search Expressions and Solr search support in the Developing ColdFusion Applications.","default":"Â ","Attribute":"criteria"},{"REQOROPT":"Optional Verity and Solr","DESCRIPTION":"The maximum number of bytes Verity returns in the context summary.","default":300,"Attribute":"contextBytes"},{"REQOROPT":"Optional Verity and Solr","DESCRIPTION":"The HTML to prepend to search terms in the context summary. Use this attribute in conjunction with contextHighlightEnd to highlight search terms in the context summary.","default":"<b>","Attribute":"contextHighlightBegin"},{"REQOROPT":"Optional Verity and Solr","DESCRIPTION":"The HTML to append to search terms in the context summary. Use this attribute in conjunction with contextHighlightBegin to highlight search terms in the context summary.","default":"<\/b>","Attribute":"contextHighlightEnd"},{"REQOROPT":"Optional Verity and Solr","DESCRIPTION":"The number of passages\/sentences Verity returns in the context summary (that is, the context column of the results). The default is 0, which disables context summary.","default":0,"Attribute":"contextPassages"},{"REQOROPT":"Optional","DESCRIPTION":"Deprecated. This attribute is now ignored and the language of the collection is used to perform the search.","default":"english","Attribute":"language"},{"REQOROPT":"Optional","DESCRIPTION":"Maximum number of rows to return in query results.","default":"all","Attribute":"maxRows"},{"REQOROPT":"Optional Verity only","DESCRIPTION":"The name of a result set from an existing set of search results. The search engine searches the result set for criteria without regard to the previous search score or rank. Use this attribute to implement searching within result sets.","default":"Â ","Attribute":"previousCriteria"},{"REQOROPT":"Optional","DESCRIPTION":"Row number of the first row to get.","default":1,"Attribute":"startRow"},{"REQOROPT":"Optional","DESCRIPTION":"Specifies the name of the structure variable into which ColdFusion places search information, including alternative criteria suggestions (spelling corrections). For a list of keys in this structure, see the section Status structure keys.","default":"Â ","Attribute":"status"},{"REQOROPT":"Optional","DESCRIPTION":"Specifies whether the search engine returns spelling suggestions for possibly misspelled words. Use one of the following options: Always: Always return spelling suggestions. Never: Never return spelling suggestions. positive integer: Return spelling suggestions if the number of documents retrieved by the search is less than or equal to the number specified. There is a small performance penalty for retrieving suggestion data.","default":"never","Attribute":"suggestions"},{"REQOROPT":"Optional","DESCRIPTION":"Used to specify the parser that the engine uses to process the criteria. simple: STEM and MANY operators are implicitly used. explicit: operators must be invoked explicitly. Also known as Bool_Plus. internet: for documents that are mostly WYSIWIG (what-you-see-is-what-you-get) documents. Also known as Internet_advanced. internet_basic: minimizes search time. natural: specifies the Query By Example (QBE) parser. Also known as FreeText. For more information, see Using Verity Search Expressions in the Developing ColdFusion Applications. Also see your Verity documentation.","default":"simple","Attribute":"type"}]}