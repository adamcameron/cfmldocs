{"HISTORY":"<!-- --><br>ColdFusion 8:<br><li><p>Added <samp class=\"codeph\">returnformat<\/samp>, <samp class=\"codeph\">secureJSON<\/samp>, and <samp class=\"codeph\">verifyClient<\/samp> attributes<\/p> <\/li> \n<li><p>Added <samp class=\"codeph\">component<\/samp> as a valid value for the <samp class=\"codeph\">ReturnType<\/samp> attribute.<\/p> <\/li><br>ColdFusion MX 7: Added the <samp class=\"codeph\">description<\/samp> attribute, and added the <samp class=\"codeph\">XML<\/samp> value to the <samp class=\"codeph\">returntype<\/samp> attribute.<br>ColdFusion MX: Added this tag.<br>","SYNTAX":"<!-- --><br>&lt;cffunction \r\n    name = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">method name<\/i>&quot; \r\n    access = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">method access<\/i>&quot; \r\n    description = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">function description<\/i>&quot; \r\n    displayName = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">name<\/i>&quot; \r\n    hint = &quot;hint text&quot; \r\n    output = &quot;yes|no&quot; \r\n    returnFormat = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">not specified<\/i>|JSON|plain|WDDX&quot; \r\n    returnType = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">data type<\/i>&quot; \r\n    roles = &quot;securityRoles&quot; \r\n    secureJSON = &quot;yes|no&quot; \r\n    verifyClient = &quot;no|yes&quot;&gt;<br>","CATEGORY":"Extensibility tags","PAGENAME":"cffunction","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7e47.html\">cfargument<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7e0e.html\">cfcomponent<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7715.html\">cfinterface<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7e0a.html\">cfinvoke<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7e09.html\">cfinvokeargument<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7f6e.html\">cfobject<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7e0b.html\">cfproperty<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7df7.html\">cfreturn<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-79fa.html\">SerializeJSON<\/a><\/samp><br>","DESCRIPTION":"Defines a function that you can call in CFML. Required to define ColdFusion component methods.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>&lt;cfcomponent&gt; \r\n    <strong>&lt;cffunction name=&quot;getEmp&quot;&gt;<\/strong> \r\n        <strong> &lt;cfquery <\/strong> \r\n                <strong>name=&quot;empQuery&quot; datasource=&quot;ExampleApps&quot; &gt;<\/strong> \r\n                <strong>SELECT FIRSTNAME, LASTNAME, EMAIL<\/strong> \r\n                <strong>FROM tblEmployees<\/strong> \r\n        <strong> &lt;\/cfquery&gt;<\/strong> \r\n        <strong> &lt;cfreturn empQuery&gt;<\/strong> \r\n    <strong>&lt;\/cffunction&gt;<\/strong> \r\n    <strong>&lt;cffunction name=&quot;getDept&quot;&gt;<\/strong> \r\n        <strong>&lt;cfquery name=&quot;deptQuery&quot; datasource=&quot;ExampleApps&quot; &gt;<\/strong> \r\n        <strong> SELECT *<\/strong>     \r\n        <strong> FROM tblDepartments<\/strong>     \r\n        <strong> &lt;\/cfquery&gt;<\/strong> \r\n        <strong> &lt;cfreturn deptQuery&gt;<\/strong> \r\n    <strong>&lt;\/cffunction&gt;<\/strong> \r\n&lt;\/cfcomponent&gt;<br>","USAGE":"<!-- --><br>The <samp class=\"codeph\">cffunction<\/samp> tag can define a function that you call in the same manner as a ColdFusion built-in function.<br>To define a ColdFusion component (CFC) method, use a <samp class=\"codeph\">cffunction<\/samp> tag.<br>The following example shows <samp class=\"codeph\">cffunction<\/samp> tag attributes for a simple CFC method that returns a ColdFusion Query object.<br>&lt;cffunction \r\n    name=&quot;getEmployees&quot;  \r\n    access=&quot;remote&quot;  \r\n    returnType=&quot;query&quot;  \r\n    hint=&quot;This query returns all records in the employee database. It candrill-down or narrow the search, based on optional input parameters.&quot;&gt;<br>For detailed information on using the <samp class=\"codeph\">cffunction<\/samp> tag for ColdFusion components, see <a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSc3ff6d0ea77859461172e0811cbec22c24-7fec.html\" target=\"_self\">Building and Using ColdFusion Components <\/a> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i>.<br>If you specify <samp class=\"codeph\">returnformat=&quot;json&quot;<\/samp> and the function returns a query, ColdFusion serializes the query into a JSON Object with two entries, and array of column names, and an array of column data arrays. For more information see <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-79fa.html\">SerializeJSON<\/a><\/samp>.<br>If you specify a <samp class=\"codeph\">roles<\/samp> attribute, the function executes only if a user is logged in and belongs to one of the specified roles.<br>If you specify <samp class=\"codeph\">variableName<\/samp> for the <samp class=\"codeph\">returnType<\/samp> attribute, the function must return a string that is in ColdFusion variable name format; that is, the function must return a string that starts with a letter, underscore, or Unicode currency symbol, and consist of letters, numbers, and underscores (_), periods, and Unicode currency symbols, only. ColdFusion does not check whether the value corresponds to an existing ColdFusion variable.<br>","Attribute":[{"REQOROPT":"Required","DESCRIPTION":"A string; a component method that is used in the cfcomponent tag.","default":"","Attribute":"name"},{"REQOROPT":"Optional","DESCRIPTION":"The client security context from which the method can be invoked. The following values are valid: private: available only to the component that declares the method and any components that extend the component in which it is defined. package: available only to the component that declares the method, components that extend the component, or any other components in the package. public: available to a locally executing page or component method. remote: available to a locally or remotely executing page or component method, or a remote client through a URL, Flash, or a web service. To publish the function as a web service, this option is required.","default":"public","Attribute":"access"},{"REQOROPT":"Optional","DESCRIPTION":"Supplies a short text description of the function.","default":"","Attribute":"description"},{"REQOROPT":"Optional","DESCRIPTION":"Meaningful only for CFC method parameters. A value to be displayed in parentheses following the function name when using introspection to show information about the CFC.","default":"","Attribute":"displayname"},{"REQOROPT":"Optional","DESCRIPTION":"Meaningful only for CFC method parameters. Text to be displayed when using introspection to show information about the CFC. The hint attribute value follows the syntax line in the function description.","default":"","Attribute":"hint"},{"REQOROPT":"Optional","DESCRIPTION":"Specifies under which conditions the function can generate HTML output. The following values are valid: yes: the entire function body is processed as if it were in a cfoutput tag. Variables names surrounded by number signs (#) are automatically replaced with their values. no: the function is processed as if it were within a cfsilent tag. If you do not specify this attribute, the function body is processed as standard CFML. Any variables must be in cfoutput tags.","default":"Function body is processed as standard CFML","Attribute":"output"},{"REQOROPT":"Â ","DESCRIPTION":"The format in which to return values to a remote caller. This attribute has no effect on values returned to a local caller. The following values are valid: json: serialize the return value into JSON format before returning it remotely. wddx: serialize the return value into WDDX format before returning it remotely. plain: ensure that the return value is a type that ColdFusion can convert directly to a string, and return the string value without serialization. Valid types include all simple types, such as numbers, and XML objects. If the return value is a complex type, such as an array, or a binary value, ColdFusion generates an error. If you specify a returntype attribute, its value must be any, boolean, date, guid, numeric, string, uuid, variablename, or XML; otherwise, ColdFusion generates an error. By default, ColdFusion serializes all return types (including simple return types), except XML, into WDDX format, and returns XML data as XML text. You can also use returnformat as an HTTP request parameter when calling a remote CFC function. This parameter has the same effect as the returnformat attribute and overrides any returnformat attribute value specified in the cffunction tag.","default":"Return as WDDX or XML; see description.","Attribute":"returnformat"},{"REQOROPT":"Required for a web service; Optional, otherwise.","DESCRIPTION":"String; a type name; data type of the function return value: any array binary boolean component: the return value must be a ColdFusion component. date guid: the argument must be a UUID or GUID of the form xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx where each x is a character that represents a hexadecimal number (0-9A-F). numeric query string struct uuid: the argument must be a ColdFusion UUID of the form xxxxxxxx-xxxx-xxxx-xxxxxxxxxxxxxxxx where each x is a character that represents a hexadecimal number (0-9A-F). variableName: a string formatted according to ColdFusion variable naming conventions. void: does not return a value. xml: allows web service functions to return CFML XML objects and XML strings. A component name: If the type attribute value is not one of the preceding items, ColdFusion treats it as the name of a ColdFusion component. When the function executes, it generates an error if the argument that is passed in is not a CFC with the specified name. Note: If a function does not return a value and the returnType value is string, ColdFusion generates an error; ColdFusion does not generate an error for other types.","default":"any","Attribute":"returnType"},{"REQOROPT":"Optional","DESCRIPTION":"A comma-delimited list of ColdFusion security roles that can invoke the method. Only users who are logged in with the specified roles can execute the function. If this attribute is omitted, all users can invoke the method.","default":"\"\" (empty)","Attribute":"roles"},{"REQOROPT":"Optional","DESCRIPTION":"A Boolean value that specifies whether to add a security prefix in front of any value that the function returns in JSON-format in response to a remote call. The default value is the value of any This.secureJSON variable in the Application.cfc file or the secureJSON attribute of the cfapplication tag, or if there is nosecureJSON application setting, the Prefix Serialized JSON setting in the Administrator Server Settings > Settings page, which defaults to false. For more information see Improving security in the Developing ColdFusion Applications.","default":"See Description","Attribute":"secureJSON"},{"REQOROPT":"Optional","DESCRIPTION":"A Boolean value that specifies whether to require remote function calls to include an encrypted security token. For use with ColdFusion AJAX applications only. For more information see Improving security in the Developing ColdFusion Applications.","default":false,"Attribute":"verifyClient"}]}