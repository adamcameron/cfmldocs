{"HISTORY":"<!-- --><br>ColdFusion 8: Added this tag.<br>","SYNTAX":"<!-- --><br>&lt;cfzip ..&gt; \r\n    &lt;cfzipparam \r\n        charset = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">encoding type<\/i>&quot; \r\n        content = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">variable name<\/i>&quot; \r\n        entryPath = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">full pathname<\/i>&quot; \r\n        filter = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">file filter<\/i>&quot; \r\n        prefix = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">string<\/i>&quot; \r\n        recurse = &quot;yes|no&quot; \r\n        source = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">source directory<\/i>&quot;&gt; \r\n&lt;\/cfzip&gt;<br><span class=\"notetitle\">Note: <\/span>You can specify this tag’s attributes in an \n<samp class=\"codeph\">attributeCollection<\/samp> attribute whose value is a structure. Specify the structure name in the \n<samp class=\"codeph\">attributeCollection<\/samp> attribute and use the tag’s attribute names as structure keys.<br>","CATEGORY":"File management tags","PAGENAME":"cfzipparam","SEEALSO":"<!-- --><br><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7695.html\">cfzip<\/a><br>","DESCRIPTION":"Provides additional information to the cfzip tag.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>Example 1<br>&lt;!--- This example shows how to zip class files from one subdirectory and class and property files from another directory into a JAR file. ---&gt; \r\n<strong>&lt;cfzip file=&quot;c:\\util.jar&quot; source=&quot;c:\\myproj\\classes&quot;&gt;<\/strong> \r\n    <strong>&lt;cfzipparam source=&quot;com\\abc\\util&quot; filter=&quot;*.class&quot;&gt;<\/strong> \r\n    <strong>&lt;cfzipparam source=&quot;com\\abc\\io&quot; filter=&quot;*.class, *.properties&quot;&gt;<\/strong> \r\n<strong>&lt;\/cfzip&gt;<\/strong><br>Example 2<br>&lt;!--- This example shows how to update a ZIP file with files from multiple locations, each with a different filter. ---&gt; \r\n<strong>&lt;cfzip file=&quot;e:\\work\\test.jar&quot; action=&quot;zip&quot;&gt;<\/strong> \r\n    <strong>&lt;cfzipparam source=&quot;c:\\temp\\abc.txt&quot; prefix=&quot;com\\abc&quot;&gt;<\/strong> \r\n    <strong>&lt;cfzipparam source=&quot;c:\\src\\classes&quot; recurse=&quot;yes&quot;<\/strong> \r\n            <strong>filter=&quot;*.class,*.properties&quot; prefix=&quot;classes&quot;&gt;<\/strong> \r\n    <strong>&lt;cfzipparam source=&quot;c:\\src\\Manifest.MF&quot; entrypath=&quot;META-INF\\MANIFEST&quot;&gt;<\/strong> \r\n<strong>&lt;\/cfzip&gt;<\/strong><br>Example 3<br>&lt;!--- This example shows how to insert the string format for a programmatically generated XML file into a ZIP file. ---&gt; \r\n&lt;!--- Create a variable that specifies a time-out period. ---&gt; \r\n&lt;cfset myDoc=&quot;&lt;system-config&gt;&lt;timeout&gt;1500&lt;\/timeout&gt;&lt;pool-max-size&gt;30 \r\n            &lt;\/pool-max-size&gt;&lt;\/system-config&gt;&quot;&gt; \r\n&lt;!--- Zip the file. ---&gt; \r\n<strong>&lt;cfzip file=&quot;e:\\work\\test.zip&quot; action=&quot;zip&quot;&gt;<\/strong> \r\n    <strong>&lt;cfzipparam source=&quot;c:\\src\\Manifest.MF&quot; entrypath=&quot;META-INF\\MANIFEST&quot;&gt;<\/strong> \r\n    <strong>&lt;cfzipparam content=&quot;#myDoc#&quot; entrypath=&quot;system-config.xml&quot;&gt;<\/strong> \r\n<strong>&lt;\/cfzip&gt;<\/strong><br>Example 4<br>&lt;!--- This example shows how to update a JAR file with a new version of the file and add some new files to the JAR file. ---&gt; \r\n<strong>&lt;cfzip file=&quot;e:\\work\\admin.jar&quot;&gt;<\/strong> \r\n    <strong>&lt;cfzipparam source=&quot;c:\\src\\classes&quot; recurse=&quot;yes&quot; <\/strong> \r\n            <strong>filter=&quot;*.class,*.properties&quot;&gt;<\/strong> \r\n    <strong>&lt;cfzipparam source=&quot;c:\\src\\Manifest.MF&quot; entrypath=&quot;META-INF\\MANIFEST&quot;&gt;<\/strong> \r\n<strong>&lt;\/cfzip&gt;<\/strong><br>Example 5<br>The following example shows how to zip multiple image files chosen from a form and e-mail the ZIP file to the person requesting the images.<br>The first ColdFusion page populates a pop-up menu with the names of artists generated from a database query:<br>&lt;!--- The following code creates a form for selecting images. ---&gt; \r\n&lt;h3&gt;Select the images&lt;\/h3&gt; \r\n&lt;p&gt;Please choose the images you would like sent to you.&lt;\/p&gt; \r\n&lt;!--- Create the ColdFusion form to select the images. ---&gt; \r\n&lt;table&gt; \r\n&lt;cfform action=&quot;zip2_action.cfm&quot; method=&quot;post&quot;  \r\n    enctype=&quot;multipart\/form-data&quot;&gt; \r\n    &lt;tr&gt; \r\n        &lt;td&gt;&lt;img src=&quot;..\/cfdocs\/images\/artgallery\/elecia01.jpg&quot;\/&gt;&lt;br\/&gt; \r\n        &lt;cfinput type=&quot;checkbox&quot; name=&quot;ck1&quot; Value=1&gt;Cube&lt;\/td&gt; \r\n        &lt;td&gt;&lt;img src=&quot;..\/cfdocs\/images\/artgallery\/elecia02.jpg&quot;\/&gt;&lt;br\/&gt; \r\n        &lt;cfinput type=&quot;checkbox&quot; name=&quot;ck2&quot; Value=1&gt;Pentagon&lt;\/td&gt; \r\n        &lt;td&gt;&lt;img src=&quot;..\/cfdocs\/images\/artgallery\/elecia03.jpg&quot;\/&gt;&lt;br\/&gt; \r\n        &lt;cfinput type=&quot;checkbox&quot; name=&quot;ck3&quot; Value=1&gt;Surfer Dude&lt;\/td&gt; \r\n        &lt;td&gt;&lt;img src=&quot;..\/cfdocs\/images\/artgallery\/elecia04.jpg&quot;\/&gt;&lt;br\/&gt; \r\n        &lt;cfinput type=&quot;checkbox&quot; name=&quot;ck4&quot; Value=1&gt;Surfer Girl&lt;\/td&gt;&lt;\/tr&gt; \r\n        &lt;tr&gt;&lt;td&gt;&lt;cfinput type = &quot;Submit&quot; name = &quot;OK&quot; label=&quot;OK&quot;&gt;&lt;\/td&gt;&lt;\/tr&gt; \r\n&lt;\/table&gt; \r\n&lt;\/cfform&gt;<br>The first action page zips the files selected from the form, and writes the ZIP file to the hard drive. Also, it includes a form to e-mail the ZIP file:<br>&lt;!--- Determine the absolute pathname on the server. ---&gt; \r\n&lt;cfset thisDir = ExpandPath(&quot;.&quot;)&gt; \r\n \r\n&lt;!--- Create a ZIP file based on the selections from the form. Use the cfzipparam tag to specify the source for each check box selection. ---&gt; \r\n<strong>&lt;cfzip file=&quot;c:\\images.zip&quot; source=&quot;#thisDir#&quot; action=&quot;zip&quot; overwrite=&quot;yes&quot;&gt;<\/strong> \r\n    <strong>&lt;cfif IsDefined(&quot;form.ck1&quot;)&gt;<\/strong> \r\n        <strong>&lt;cfzipparam source=&quot;..\/cfdocs\/images\/artgallery\/elecia01.jpg&quot;&gt;<\/strong> \r\n        <strong>&lt;\/cfif&gt;<\/strong> \r\n    <strong>&lt;cfif IsDefined(&quot;form.ck2&quot;)&gt;<\/strong> \r\n        <strong>&lt;cfzipparam source=&quot;..\/cfdocs\/images\/artgallery\/elecia02.jpg&quot;&gt;<\/strong> \r\n        <strong>&lt;\/cfif&gt;<\/strong> \r\n    <strong>&lt;cfif IsDefined(&quot;form.ck3&quot;)&gt;<\/strong> \r\n        <strong>&lt;cfzipparam source=&quot;..\/cfdocs\/images\/artgallery\/elecia03.jpg&quot;&gt;<\/strong> \r\n        <strong>&lt;\/cfif&gt;<\/strong> \r\n    <strong>&lt;cfif IsDefined(&quot;form.ck4&quot;)&gt;<\/strong> \r\n        <strong>&lt;cfzipparam source=&quot;..\/cfdocs\/images\/artgallery\/elecia04.jpg&quot;&gt;<\/strong> \r\n        <strong>&lt;\/cfif&gt;<\/strong> \r\n<strong>&lt;\/cfzip&gt;<\/strong> \r\n&lt;h3&gt;Mail the ZIP File&lt;\/h3&gt; \r\n&lt;p&gt;Please enter your e-mail address so we can send you the ZIP file as an attachment.&lt;\/p&gt; \r\n&lt;cfif IsDefined(&quot;form.mailto&quot;)&gt; \r\n    &lt;cfif form.mailto is not &quot;&quot; &gt; \r\n        &lt;cfoutput&gt; \r\n            &lt;cfmail from=&quot;coldfusion@adobe.com&quot; to=&quot;#form.mailto#&quot;  \r\n                    subject=&quot;see zipped attachment&quot;&gt; \r\n    The images you requested are enclosed in a ZIP file. \r\n            &lt;cfmailparam file=&quot;#thisDir#\/images.zip&quot;&gt; \r\n            &lt;\/cfmail&gt; \r\n        &lt;\/cfoutput&gt;     \r\n        &lt;\/cfif&gt; \r\n    &lt;\/cfif&gt;     \r\n&lt;cfform action = &quot;zipArt_action2.cfm&quot; method=&quot;post&quot;&gt; \r\n    Your e-mail address: &lt;cfinput type = &quot;Text&quot; name = &quot;MailTo&quot;&gt; \r\n    &lt;!--- Specify the required field. ---&gt; \r\n    &lt;cfinput type = &quot;hidden&quot; name = &quot;MailTo_required&quot;  \r\n    value = &quot;You must enter your email address&quot;&gt; \r\n    &lt;cfinput type = &quot;hidden&quot; name=&quot;zipPath&quot; value = &quot;c:\\images.zip&quot;&gt; \r\n    &lt;p&gt;&lt;cfinput type = &quot;Submit&quot; name = &quot;OK&quot; label=&quot;Mail&quot;&gt; \r\n&lt;\/cfform&gt;<br>The second action page mails the ZIP file as an attachment:<br>&lt;h3&gt;Mail the ZIP file&lt;\/h3&gt; \r\n&lt;p&gt;Your file has been mailed to you.&lt;\/p&gt; \r\n&lt;cfset eMail=&quot;#form.MailTo#&quot;&gt; \r\n&lt;cfset zipPath=&quot;#form.zipPath#&quot;&gt; \r\n&lt;cfmail from=&quot;coldfusion@adobe.com&quot; to=&quot;#eMail#&quot; \r\n    subject=&quot;see zipped attachment&quot;&gt; \r\n    The images you requested are enclosed in a ZIP file. \r\n    &lt;cfmailparam file=&quot;#zipPath#&quot;&gt; \r\n&lt;\/cfmail&gt;<br>","USAGE":"<!-- --><br>Use the <samp class=\"codeph\">cfzipparam<\/samp> tag with the <samp class=\"codeph\">cfzip<\/samp> tag to zip, extract, or delete multiple files or directories. For example, to zip multiple directories, specify a <samp class=\"codeph\">cfzipparam<\/samp> tag for each source directory.<br>","Attribute":[{"REQOROPT":"Optional","DESCRIPTION":"Converts string content into binary data before putting it into a ZIP or JAR file. Used only when cfzip action=\"zip\" and the cfzipparam content is a string. Examples of character sets: JIS RFC1345 UTF-16","default":"default encoding of the host machine","Attribute":"charset"},{"REQOROPT":"Optional","DESCRIPTION":"Content written to the ZIP or JAR entry. Used only when cfzip action=\"zip\". Valid content data types are binary and string. If you specify the content attribute, specify the entrypath attribute.","default":"","Attribute":"content"},{"REQOROPT":"Optional","DESCRIPTION":"Pathname used: For cfzip action=\"zip\", it is the entry path used. This is valid only when the source is a file. The entry path creates a subdirectory in the ZIP or JAR file. For cfzip action=\"unzip\", it is the pathname to unzip. For cfzip action=\"delete\", it is the pathname to delete from the ZIP or JAR file.","default":"","Attribute":"entryPath"},{"REQOROPT":"Optional","DESCRIPTION":"File filter applied to the action. For example, for the zip action, all the files in the source directory that match the filter are zipped.","default":"","Attribute":"filter"},{"REQOROPT":"Optional","DESCRIPTION":"String added as a prefix to the ZIP or JAR entry. Used only when cfzip action=\"zip\".","default":"","Attribute":"prefix"},{"REQOROPT":"Optional","DESCRIPTION":"Include the directory to be zipped, unzipped, or deleted, as specified by the cfzip parent tag.","default":true,"Attribute":"recurse"},{"REQOROPT":"Optional","DESCRIPTION":"Source directory or file. Used only when cfzip action=\"zip\". Specified files are added to the ZIP or JAR file: If you specify source attribute for the cfzip tag, the cfzipparam source is relative to it. If you do not specify a source attribute for the cfzip tag, the cfzipparam source must be an absolute pathname.","default":"","Attribute":"source"}]}