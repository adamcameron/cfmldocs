{"HISTORY":"<!-- --><br>ColdFusion MX 7: Added this function.<br>","SYNTAX":"<!-- --><br><i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">AddSOAPRequestHeader(webservice, namespace, name, value [, mustunderstand])<\/i><br>","CATEGORY":"XML functions","PAGENAME":"AddSOAPRequestHeader","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6c83.html\">AddSOAPResponseHeader<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6ca2.html\">GetSOAPRequest<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6ca1.html\">GetSOAPRequestHeader<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6ca0.html\">GetSOAPResponse<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6c9f.html\">GetSOAPResponseHeader<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6c7e.html\">IsSOAPRequest<\/a><\/samp>; <a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSc3ff6d0ea77859461172e0811cbec22c24-69e4.html\" target=\"_self\">Basic web service concepts<\/a> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i><br>","DESCRIPTION":"Adds a SOAP header to a web service request before making the request.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>There are two parts to this example. The first part is the web service CFC that this function (as well as the other ColdFusion SOAP functions) uses to demonstrate its interaction with a web service. To implement the web service for this function, see the example for <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6c83.html\">AddSOAPResponseHeader<\/a><\/samp>.<br>Execute the following example as a client to see how the <samp class=\"codeph\">AddSOAPRequestHeader<\/samp> function operates.<br>&lt;!--- Note that you might need to modify the URL in the CreateObject function \r\n    to match your server and the location of the headerservice.cfc file if it is \r\n    different than shown here. Likewise for the cfinvoke tag at the end. ---&gt; \r\n \r\n&lt;h3&gt;AddSOAPRequestHeader Example&lt;\/h3&gt; \r\n&lt;cfscript&gt; \r\n    \/\/ Create the web service object. \r\n    ws = CreateObject(&quot;webservice&quot;, &quot;http:\/\/localhost\/soapheaders\/headerservice.cfc?WSDL&quot;); \r\n     \r\n    \/\/ Set the username header as a string. \r\n    addSOAPRequestHeader(ws, &quot;http:\/\/mynamespace\/&quot;, &quot;username&quot;, &quot;tom&quot;, false); \r\n     \r\n    \/\/ Set the password header as a CFML XML object. \r\n    doc = XmlNew(); \r\n    doc.password = XmlElemNew(doc, &quot;http:\/\/mynamespace\/&quot;, &quot;password&quot;); \r\n    doc.password.XmlText = &quot;My Voice is my Password&quot;; \r\n    doc.password.XmlAttributes[&quot;xsi:type&quot;] = &quot;xsd:string&quot;; \r\n    addSOAPRequestHeader(ws, &quot;ignoredNameSpace&quot;, &quot;ignoredName&quot;, doc); \r\n \r\n    \/\/ Invoke the web service operation. \r\n    ret = ws.echo_me(&quot;argument&quot;); \r\n     \r\n    \/\/ Get the first header as an object (string) and as XML. \r\n    header = getSOAPResponseHeader(ws, &quot;http:\/\/www.tomj.org\/myns&quot;, &quot;returnheader&quot;); \r\n    XMLheader = getSOAPResponseHeader(ws, &quot;http:\/\/www.tomj.org\/myns&quot;, &quot;returnheader&quot;, true); \r\n \r\n    \/\/ Get the second header as an object (string) and as XML. \r\n    header2 =getSOAPResponseHeader(ws, &quot;http:\/\/www.tomj.org\/myns&quot;, &quot;returnheader2&quot;); \r\n    XMLheader2 = getSOAPResponseHeader(ws, &quot;http:\/\/www.tomj.org\/myns&quot;, &quot;returnheader2&quot;, true); \r\n&lt;\/cfscript&gt; \r\n&lt;hr&gt; \r\n&lt;cfoutput&gt; \r\n    Soap Header value: #HTMLCodeFormat(header)#&lt;br&gt; \r\n    Soap Header XML value: #HTMLCodeFormat(XMLheader)#&lt;br&gt; \r\n    Soap Header 2 value: #HTMLCodeFormat(header2)#&lt;br&gt; \r\n    Soap Header 2 XML value: #HTMLCodeFormat(XMLheader2)#&lt;br&gt; \r\n    Return value: #HTMLCodeFormat(ret)#&lt;br&gt; \r\n&lt;\/cfoutput&gt; \r\n&lt;hr&gt; \r\n \r\n&lt;cfinvoke component=&quot;soapheaders.headerservice&quot; method=&quot;echo_me&quot; returnvariable=&quot;ret&quot; in_here=&quot;hi&quot;&gt; \r\n&lt;\/cfinvoke&gt; \r\n&lt;cfoutput&gt;The cfinvoke tag returned: #ret#&lt;\/cfoutput&gt;<br>","USAGE":"<!-- --><br>Used within CFML code by a consumer of a web service <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">before<\/i> it calls the web service<samp class=\"codeph\">.<\/samp><br>If you pass XML in the <samp class=\"codeph\">value<\/samp> parameter, ColdFusion ignores the namespace and name parameters. If you require a namespace, define it within the XML itself.<br>","Parameter":[{"DESCRIPTION":"A web service object as returned from the cfobject tag or the CreateObject function.","Parameter":"webservice"},{"DESCRIPTION":"A string that is the namespace for the header.","Parameter":"namespace"},{"DESCRIPTION":"A string that contains the name of the SOAP header in the request.","Parameter":"name"},{"DESCRIPTION":"The value for the SOAP header; this can be a CFML XML value.","Parameter":"value"},{"DESCRIPTION":"Optional. True or False (default). Sets the SOAP mustunderstand value for this header.","Parameter":"mustunderstand"}]}