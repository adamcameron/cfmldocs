{"HISTORY":"<!-- --><br>ColdFusion MX:<br><li><p>Changed how negative date differences are calculated: this function calculates negative date differences correctly; its output may be different from that in earlier releases. <\/p> <\/li> \n<li><p>Changed the <samp class=\"codeph\">w<\/samp> and <samp class=\"codeph\">ww<\/samp> masks; they determine the number of full weeks between the two dates.<\/p> <\/li><br>","SYNTAX":"<!-- --><br>DateDiff(&quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">datepart<\/i>&quot;, &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">date1<\/i>&quot;, &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">date2<\/i>&quot;)<br>","CATEGORY":"Date and time functions","PAGENAME":"DateDiff","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6ddb.html\">DateAdd<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6df2.html\">DatePart<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7d4f.html\">CreateTimeSpan<\/a><\/samp><br>","DESCRIPTION":"Determines the integer number of units by which date1 is less than date2.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>&lt;cfif IsDefined(&quot;form.value&quot;)&gt; \r\n    &lt;cfset value = form.value&gt; \r\n&lt;\/cfif&gt; \r\n&lt;cfif IsDefined(&quot;form.type&quot;)&gt; \r\n    &lt;cfset type = form.type&gt; \r\n&lt;\/cfif&gt; \r\n \r\n&lt;cfif IsDefined(&quot;form.date1&quot;) and IsDefined(&quot;form.date2&quot;)&gt; \r\n \r\n    &lt;cfif IsDate(form.date1) and IsDate(form.date2)&gt; \r\n     \r\n        &lt;p&gt;This example uses DateDiff to determine the difference \r\n        in  \r\n        &lt;cfswitch expression = &quot;#form.type#&quot;&gt; \r\n            &lt;cfcase value=&quot;yyyy&quot;&gt;years&lt;\/cfcase&gt; \r\n            &lt;cfcase value=&quot;q&quot;&gt;quarters&lt;\/cfcase&gt; \r\n            &lt;cfcase value=&quot;m&quot;&gt;months&lt;\/cfcase&gt; \r\n            &lt;cfcase value=&quot;y&quot;&gt;days&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;d&quot;&gt;days&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;w&quot;&gt;weekdays&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;ww&quot;&gt;weeks&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;h&quot;&gt;hours&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;n&quot;&gt;minutes&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;s&quot;&gt;seconds&lt;\/cfcase&gt;         \r\n            &lt;cfdefaultcase&gt;years&lt;\/cfdefaultcase&gt; \r\n        &lt;\/cfswitch&gt; \r\n             dateparts between date1 and date2. \r\n         \r\n        &lt;cfif DateCompare(&quot;#form.date1#&quot;,&quot;#form.date2#&quot;) is not 0&gt; \r\n        &lt;p&gt;The difference is &lt;cfoutput&gt;#Abs(DateDiff(type, form.date2, form.date1))#&lt;\/cfoutput&gt; \r\n        &lt;cfswitch expression = &quot;#form.type#&quot;&gt; \r\n            &lt;cfcase value=&quot;yyyy&quot;&gt;years&lt;\/cfcase&gt; \r\n            &lt;cfcase value=&quot;q&quot;&gt;quarters&lt;\/cfcase&gt; \r\n            &lt;cfcase value=&quot;m&quot;&gt;months&lt;\/cfcase&gt; \r\n            &lt;cfcase value=&quot;y&quot;&gt;days&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;d&quot;&gt;days&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;w&quot;&gt;weekdays&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;ww&quot;&gt;weeks&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;h&quot;&gt;hours&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;n&quot;&gt;minutes&lt;\/cfcase&gt;     \r\n            &lt;cfcase value=&quot;s&quot;&gt;seconds&lt;\/cfcase&gt;         \r\n            &lt;cfdefaultcase&gt;years&lt;\/cfdefaultcase&gt; \r\n        &lt;\/cfswitch&gt;. \r\n        &lt;cfelse&gt; \r\n        &lt;p&gt;The two dates are equal!Try changing one of the values ... \r\n        &lt;\/cfif&gt; \r\n     \r\n    &lt;cfelse&gt; \r\n    &lt;p&gt;Please enter two valid date\/time values, formatted like this: \r\n    &lt;cfoutput&gt;#DateFormat(Now())#&lt;\/cfoutput&gt;     \r\n    &lt;\/cfif&gt;     \r\n \r\n&lt;\/cfif&gt; \r\n&lt;form action=&quot;index.cfm&quot; method=&quot;post&quot;&gt; \r\n \r\n&lt;pre&gt; \r\nDate 1 \r\n&lt;input type=&quot;Text&quot; name=&quot;date1&quot; value=&quot;&lt;cfoutput&gt;#DateFormat(Now())#&lt;\/cfoutput&gt;&quot;&gt; \r\nDate 2 \r\n&lt;input type=&quot;Text&quot; name=&quot;date2&quot; value=&quot;&lt;cfoutput&gt;#DateFormat(Now())#&lt;\/cfoutput&gt;&quot;&gt; \r\nWhat kind of unit to show difference? \r\n    &lt;select name=&quot;type&quot;&gt; \r\n        &lt;option value=&quot;yyyy&quot; selected&gt;years \r\n        &lt;option value=&quot;q&quot;&gt;quarters \r\n        &lt;option value=&quot;m&quot;&gt;months \r\n        &lt;option value=&quot;y&quot;&gt;days of year \r\n        &lt;option value=&quot;d&quot;&gt;days \r\n        &lt;option value=&quot;w&quot;&gt;weekdays \r\n        &lt;option value=&quot;ww&quot;&gt;weeks \r\n        &lt;option value=&quot;h&quot;&gt;hours \r\n        &lt;option value=&quot;n&quot;&gt;minutes \r\n        &lt;option value=&quot;s&quot;&gt;seconds \r\n    &lt;\/select&gt; \r\n&lt;\/pre&gt; \r\n \r\n&lt;input type=&quot;Submit&quot; name=&quot;&quot;&gt;&lt;input type=&quot;Reset&quot;&gt; \r\n&lt;\/form&gt;<br>","USAGE":"<!-- --><br>The <samp class=\"codeph\">DateDiff<\/samp> function determines the number of complete <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">datepart<\/i> units between the two dates; for example, if the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">datepart<\/i> parameter is &quot;m&quot; and the dates differ by 55 days, the function returns 1.<br>Enclose string constant dates in quotation marks. If the text contains only numbers (such 1932), and is not surrounded by quotation marks, ColdFusion interprets it as a date\/time object, resulting in an incorrect value.<br>","Parameter":[{"DESCRIPTION":"String that specifies the units in which to count; for example yyyy requests a date difference in whole years. yyyy: Years q: Quarters m: Months y: Days of year (same as d) d: Days w: Weekdays (same as ww) ww: Weeks h: Hours n: Minutes s: Seconds","Parameter":"datepart"},{"DESCRIPTION":"Date\/time object, in the range 100 AD–9999 AD.","Parameter":"date1"},{"DESCRIPTION":"Date\/time object, in the range 100 AD–9999 AD.","Parameter":"date2"}]}