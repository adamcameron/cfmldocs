{"HISTORY":"<!-- --><br>ColdFusion 8: Added this function.<br>","SYNTAX":"<!-- --><br>QueryConvertForGrid(<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">query<\/i>, <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">page<\/i>, <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">pageSize<\/i>)<br>","CATEGORY":"Query functions","PAGENAME":"QueryConvertForGrid","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7baf.html\">cfgrid<\/a><\/samp>, <a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSF7E64317-462A-4674-A8CE-9E3880BCD129.html\" target=\"_self\">Dynamically filling form data<\/a> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i><br>","DESCRIPTION":"Converts query data to a structure that contains a paged subset of the query. Used in CFC functions that return data to Ajax format cfgrid controls in response to a bind expression.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>The following example shows how a CFC function that is called by an Ajax format <samp class=\"codeph\">cfgrid<\/samp> tag <samp class=\"codeph\">bind<\/samp> attribute. uses the <samp class=\"codeph\">QueryConvertForGrid<\/samp> function to prepare query data to return to the grid. The CFML page with the <samp class=\"codeph\">cfgrid<\/samp> tag has the following code:<br>&lt;cfform&gt; \r\n    &lt;cfgrid format=&quot;html&quot; name=&quot;grid01&quot; pagesize=5 sort=true \r\n            bind=&quot;cfc:places.getData({cfgridpage},{cfgridpagesize}, \r\n                {cfgridsortcolumn},{cfgridsortdirection})&quot; selectMode=&quot;row&quot;&gt; \r\n        &lt;cfgridcolumn name=&quot;Emp_ID&quot; display=true header=&quot;Employee ID&quot;\/&gt; \r\n        &lt;cfgridcolumn name=&quot;FirstName&quot; display=true header=&quot;Name&quot;\/&gt; \r\n        &lt;cfgridcolumn name=&quot;Email&quot; display=true header=&quot;Email&quot;\/&gt;  \r\n    &lt;\/cfgrid&gt; \r\n&lt;\/cfform&gt;<br>The <samp class=\"codeph\">getData<\/samp> function in the places.cfc page has the following code:<br>&lt;cffunction name=&quot;getData&quot; access=&quot;remote&quot; output=&quot;false&quot;&gt;     \r\n    &lt;cfargument name=&quot;page&quot;&gt; \r\n    &lt;cfargument name=&quot;pageSize&quot;&gt; \r\n    &lt;cfargument name=&quot;gridsortcolumn&quot;&gt; \r\n    &lt;cfargument name=&quot;gridstartdirection&quot;&gt; \r\n    &lt;cfset query = &quot;SELECT Emp_ID, FirstName, EMail \r\n         FROM Employees&quot; &gt; \r\n    &lt;cfif gridsortcolumn neq &quot;&quot; or gridstartdirection neq &quot;&quot;&gt; \r\n     &lt;cfset query=query &amp; &quot; order by #gridsortcolumn# \r\n            #gridstartdirection#&quot;&gt; \r\n    &lt;\/cfif&gt; \r\n    &lt;cfquery name=&quot;team&quot; datasource=&quot;cfdocexamples&quot;&gt; \r\n         &lt;cfoutput&gt;#query#&lt;\/cfoutput&gt; \r\n    &lt;\/cfquery&gt; \r\n    <strong>&lt;cfreturn QueryConvertForGrid(team, page, pageSize)&gt;<\/strong> \r\n&lt;\/cffunction&gt;<br>","USAGE":"<!-- --><br>You can also create the return value for a <samp class=\"codeph\">cfgrid<\/samp> bind CFC without using this function if your query returns only a single grid page of data at a time. For more information see <a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSc3ff6d0ea77859461172e0811cbec22c24-7a01.html\" target=\"_self\">Using Ajax User Interface Components and Features<\/a> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i>.<br>","Parameter":[{"DESCRIPTION":"Name of the query whose data is returned.","Parameter":"query"},{"DESCRIPTION":"The specific page of query data to be returned. Pages are numbered starting with 1.","Parameter":"page"},{"DESCRIPTION":"Number of rows of query data on a page.","Parameter":"pageSize"}]}