{"HISTORY":"<!-- --><br>ColdFusion 8: Added the <samp class=\"codeph\">locale<\/samp> parameter.<br>ColdFusion MX:<br><li><p>Changed behavior: if the specified mask format cannot correctly mask a number, this function returns the number unchanged. (In earlier releases, it truncated the number or threw an error.) (If no mask is specified, ColdFusion MX truncates the decimal part as ColdFusion 5 does. For example, it truncates 1234.567 to 1235.) <\/p> <\/li> \n<li><p>Changed formatting behavior: this function might return different formatting than in earlier releases. This function uses Java standard locale formatting rules on all platforms. <\/p> <\/li><br>","SYNTAX":"<!-- --><br>LSNumberFormat(<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">number<\/i> [, <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">mask<\/i>, <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">locale<\/i>])<br>","CATEGORY":"Display and formatting functions, International functions","PAGENAME":"LSNumberFormat","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6d90.html\">GetLocale<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7fa3.html\">SetLocale<\/a><\/samp>; <samp class=\"codeph\"><a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSc3ff6d0ea77859461172e0811cbec22c24-6354.html\" target=\"_self\">Handling data in ColdFusion<\/a><\/samp> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i><br>","DESCRIPTION":"Formats a number in a locale-specific format.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>&lt;h3&gt;LSNumberFormat Example&lt;\/h3&gt; \r\n&lt;p&gt;LSNumberFormat returns a number value using the locale convention.  \r\n&lt;!--- loop through a list of locales and show number values ---&gt; \r\n&lt;cfloop LIST = &quot;#Server.Coldfusion.SupportedLocales#&quot; \r\nindex = &quot;locale&quot; delimiters = &quot;,&quot;&gt; \r\n    &lt;cfset oldlocale = SetLocale(locale)&gt; \r\n    &lt;cfoutput&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;#locale#&lt;\/i&gt;&lt;\/b&gt;&lt;br&gt; \r\n        #LSNumberFormat(-1234.5678, &quot;_________&quot;)#&lt;br&gt; \r\n        #LSNumberFormat(-1234.5678, &quot;_________.___&quot;)#&lt;br&gt; \r\n        #LSNumberFormat(1234.5678, &quot;_________&quot;)#&lt;br&gt; \r\n        #LSNumberFormat(1234.5678, &quot;_________.___&quot;)#&lt;br&gt;         \r\n        #LSNumberFormat(1234.5678, &quot;$_(_________.___)&quot;)#&lt;br&gt;         \r\n        #LSNumberFormat(-1234.5678, &quot;$_(_________.___)&quot;)#&lt;br&gt;         \r\n        #LSNumberFormat(1234.5678, &quot;+_________.___&quot;)#&lt;br&gt;         \r\n        #LSNumberFormat(1234.5678, &quot;-_________.___&quot;)#&lt;br&gt;         \r\n    &lt;\/cfoutput&gt; \r\n&lt;\/cfloop&gt;<br>","USAGE":"<!-- --><br>This function uses Java standard locale formatting rules on all platforms.<br>The position of symbols in format masks determines where the codes take effect. For example, if you put a dollar sign at the far left of a format mask, ColdFusion displays a dollar sign at the left edge of the formatted number. If you separate the dollar sign on the left edge of the format mask by at least one underscore, ColdFusion displays the dollar sign just to the left of the digits in the formatted number.<br>These examples show how symbols determine formats:<br><table border=\"1\" cellpadding=\"4\" cellspacing=\"0\">\n <thead align=\"left\">\n  <tr>\n   <th valign=\"top\" width=\"NaN%\" id=\"d17e151490\"><p>Number<\/p> <\/th> \n   <th valign=\"top\" width=\"NaN%\" id=\"d17e151493\"><p>Mask<\/p> <\/th> \n   <th valign=\"top\" width=\"NaN%\" id=\"d17e151496\"><p>Result<\/p> <\/th> \n  <\/tr> \n <\/thead> \n <tbody>\n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151490 \"><p>4.37<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151493 \"><p>$____.__<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151496 \"><p>&quot;$ 4.37&quot;<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151490 \"><p>4.37<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151493 \"><p>_$___.__<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151496 \"><p>&quot; $4.37&quot;<\/p> <\/td> \n  <\/tr> \n <\/tbody> \n<\/table><br>The positioning can also show where to put a minus sign for negative numbers:<br><table border=\"1\" cellpadding=\"4\" cellspacing=\"0\">\n <thead align=\"left\">\n  <tr>\n   <th valign=\"top\" width=\"NaN%\" id=\"d17e151529\"><p>Number<\/p> <\/th> \n   <th valign=\"top\" width=\"NaN%\" id=\"d17e151532\"><p>Mask<\/p> <\/th> \n   <th valign=\"top\" width=\"NaN%\" id=\"d17e151535\"><p>Result<\/p> <\/th> \n  <\/tr> \n <\/thead> \n <tbody>\n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151529 \"><p>-4.37<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151532 \"><p>-____.__<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151535 \"><p>&quot;- 4.37&quot;<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151529 \"><p>-4.37<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151532 \"><p>_-___.__<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151535 \"><p>&quot; -4.37&quot;<\/p> <\/td> \n  <\/tr> \n <\/tbody> \n<\/table><br>The positions for a symbol are: far left, near left, near right, and far right. The left and right positions are determined by the side of the decimal point on which the code character is shown. For formats that do not have a fixed number of decimal places, you can use a caret (^) to separate the left fields from the right.<br>An underscore determines whether the code is placed in the far or near position. Most code charactersâ€™ effect is determined by the field in which they are located. This example shows how to specify where to put parentheses to display negative numbers:<br><table border=\"1\" cellpadding=\"4\" cellspacing=\"0\">\n <thead align=\"left\">\n  <tr>\n   <th valign=\"top\" width=\"NaN%\" id=\"d17e151570\"><p>Number<\/p> <\/th> \n   <th valign=\"top\" width=\"NaN%\" id=\"d17e151573\"><p>Mask<\/p> <\/th> \n   <th valign=\"top\" width=\"NaN%\" id=\"d17e151576\"><p>Result<\/p> <\/th> \n  <\/tr> \n <\/thead> \n <tbody>\n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151570 \"><p>3.21<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151573 \"><p>C(__^__)<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151576 \"><p>&quot;( 3.21 )&quot;<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151570 \"><p>3.21<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151573 \"><p>C__(^__)<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151576 \"><p>&quot; (3.21 )&quot;<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151570 \"><p>3.21<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151573 \"><p>C(__^)__<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151576 \"><p>&quot;( 3.21) &quot;<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151570 \"><p>3.21<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151573 \"><p>C__(^)__<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e151576 \"><p>&quot; (3.21) &quot;<\/p> <\/td> \n  <\/tr> \n <\/tbody> \n<\/table><br>To set the default display format of date, time, number, and currency values, use the <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7fa3.html\">SetLocale<\/a><\/samp> function.<br>When converting from string to double, to prevent rounding errors, this function adds a rounding factor of 1.5543122344752E-014 to the converted number. For example, without adding the rounding factor, converting the string value 1.275 to double with two digits of precision results in a value of 1.27499999999999999, which would be rounded up to 1.27. By adding the rounding factor, the conversion correctly results in a value of 1.28.<br>If you round off a double, such as 1.99499999999999999999999999999, where the last decimal is 10E-14, the rounding factor can cause an incorrect result.<br>","Parameter":[{"DESCRIPTION":"Number to format","Parameter":"number"},{"DESCRIPTION":"LSNumberFormat mask characters apply, except: dollar sign, comma, and dot are mapped to their locale-specific equivalents.","Parameter":"mask"},{"DESCRIPTION":"Locale to use instead of the locale of the page when processing the function","Parameter":"locale"},{"DESCRIPTION":"(Underscore.) Digit placeholder.","Parameter":"_"},{"DESCRIPTION":"Digit placeholder. (Shows decimal places more clearly than _ .)","Parameter":9},{"DESCRIPTION":"Location of a mandatory decimal point (or locale-appropriate symbol).","Parameter":"."},{"DESCRIPTION":"Located to the left or right of a mandatory decimal point. Pads with zeros.","Parameter":0},{"DESCRIPTION":"If number is less than zero, puts parentheses around the mask.","Parameter":"( )"},{"DESCRIPTION":"Puts plus sign before positive number; minus sign before negative number.","Parameter":"+"},{"DESCRIPTION":"Puts space before positive number; minus sign before negative number.","Parameter":"-"},{"DESCRIPTION":"Separates every third decimal place with a comma (or locale-appropriate symbol).","Parameter":","},{"DESCRIPTION":"Left-justifies or center-justifies number within width of mask column. First character of mask must be L or C. The default value is right-justified.","Parameter":"L,C"},{"DESCRIPTION":"Puts a dollar sign (or locale-appropriate symbol) before formatted number. First character of mask must be the dollar sign ($).","Parameter":"$"},{"DESCRIPTION":"Separates left and right formatting.","Parameter":"^"}]}