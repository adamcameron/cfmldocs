{"HISTORY":"<!-- --><br>ColdFusion 9:<br><li><p>Added support for the following features: <\/p> \n <ul>\n  <li><p>Caching in memory. Memory is now the default cache location.<\/p> <\/li> \n  <li><p>Caching page fragments.<\/p> <\/li> \n  <li><p>Caching specific objects, including the ability to put, get, and flush cached objects.<\/p> <\/li> \n  <li><p>Setting cache dependencies.<\/p> <\/li> \n  <li><p>Setting an idle timeout.<\/p> <\/li> \n  <li><p>Getting metadata about cached objects.<\/p> <\/li> \n  <li><p>The ability to strip white space from cached page fragments.<\/p> <\/li> \n  <li><p>The ability to throw an exception if an error occurs when flushing a cached object.<\/p> <\/li> \n <\/ul> <\/li> \n<li><p>Added <samp class=\"codeph\">get<\/samp> and <samp class=\"codeph\">put<\/samp> values of the <samp class=\"codeph\">action<\/samp> attribute. These values support caching of objects.<\/p> <\/li> \n<li><p>Added <samp class=\"codeph\">dependsOn<\/samp>, <samp class=\"codeph\">id<\/samp>, <samp class=\"codeph\">idleTime<\/samp>, <samp class=\"codeph\">key<\/samp>, <samp class=\"codeph\">metadata<\/samp>, <samp class=\"codeph\">name, <\/samp><samp class=\"codeph\">stripWhiteSpace<\/samp>, <samp class=\"codeph\">throwOnError<\/samp>, <samp class=\"codeph\">useCache<\/samp>, <samp class=\"codeph\">usequerystring<\/samp>, and <samp class=\"codeph\">value<\/samp> attributes.<\/p> <\/li><br>ColdFusion MX:<br><li><p>Deprecated the <samp class=\"codeph\">cachedirectory<\/samp> and <samp class=\"codeph\">timeout<\/samp> attributes. They might not work, and might cause an error, in later releases. <\/p> <\/li> \n<li><p>Added the <samp class=\"codeph\">timespan<\/samp> attribute. <\/p> <\/li> \n<li><p>Changed how pages are cached: the default <samp class=\"codeph\">action<\/samp> attribute value, <samp class=\"codeph\">cache<\/samp>, caches a page on the server and the client. (In earlier releases, this option cached a page only on the server.) <\/p> <\/li> \n<li><p>Changed the source of the <samp class=\"codeph\">protocol<\/samp> and <samp class=\"codeph\">port<\/samp> values: the default <samp class=\"codeph\">protocol<\/samp> and <samp class=\"codeph\">port<\/samp> values are now taken from the current page URL. (In earlier releases, they were <samp class=\"codeph\">&quot;http&quot;<\/samp> and <samp class=\"codeph\">&quot;80&quot;<\/samp>, respectively.) <\/p> <\/li> \n<li><p>Changed how session state is handled when caching a page: this tag can cache pages that depend on session state, including pages that are secured with a ColdFusion login. (In earlier releases, the session state was cleared when caching the page, causing authentication to be lost.)<\/p> <\/li> \n<li><p>Changed how files are cached: this tag uses a hash() of the URL for the filename to cache a file. (In earlier releases, ColdFusion used the cfcache.map file.)<\/p> <\/li><br>","SYNTAX":"<!-- --><br>&lt;cfcache  \r\n    action = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">action<\/i>&quot; \r\n    dependsOn = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">variable name list<\/i>&quot; \r\n    directory = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">directory path<\/i>&quot; \r\n    expireURL = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">wildcarded URL reference<\/i>&quot; \r\n    id = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">object identifier<\/i>&quot; \r\n    idleTime = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">decimal number of days<\/i>&quot; \r\n    key = &quot;key value&quot; \r\n    metadata = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">variable name<\/i>&quot; \r\n    name = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">variable name<\/i>&quot; \r\n    password = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">password<\/i>&quot; \r\n    port = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">port number<\/i>&quot; \r\n    protocol = &quot;http:\/\/|https:\/\/&quot; \r\n    stripWhiteSpace = &quot;false|true&quot; \r\n    throwOnError = &quot;false|true&quot; \r\n    timespan = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">decimal number of days<\/i>&quot;&gt; \r\n    useCache = &quot;true|false&quot; \r\n    usequerystring = &quot;false|true&quot; \r\n    username = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">username<\/i>&quot; \r\n    value = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">value<\/i>&quot;&gt; \r\n \r\n    The page fragment to be cached, if any. \r\n \r\n&lt;\/cfcache&gt;<br><span class=\"notetitle\">Note: <\/span>You can specify this tag’s attributes in an \n<samp class=\"codeph\">attributeCollection<\/samp> attribute whose value is a structure. Specify the structure name in the \n<samp class=\"codeph\">attributeCollection<\/samp> attribute and use the tag’s attribute names as structure keys.<br>","CATEGORY":"Page processing tags","PAGENAME":"cfcache","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7d4e.html\">cfflush<\/a><\/samp><samp class=\"codeph\">, <\/samp><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7aea.html\">cfheader<\/a><\/samp><samp class=\"codeph\">, <\/samp><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7ae9.html\">cfhtmlhead<\/a><\/samp><samp class=\"codeph\">, <\/samp><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7d68.html\">cfsetting<\/a><\/samp><samp class=\"codeph\">, <\/samp><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7bf3.html\">cfsilent<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSf01dbd23413dda0e23f2e39f12239eb6713-8000.html\">Cache functions<\/a><\/samp><br>","DESCRIPTION":"Stores a copy of a page on the server and\/or client computer, to improve page rendering performance. To do this, the tag creates temporary files that contain the static HTML returned from a ColdFusion page.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>&lt;!--- This example produces as many cached files as there are URL parameter permutations. \r\nYou can see that the page is cached when the timestamp doesn't change.---&gt; \r\n \r\n&lt;cfcache \r\n    timespan=&quot;#createTimeSpan(0,0,10,0)#&quot;&gt; \r\n&lt;body&gt; \r\n \r\n&lt;h3&gt;This is a test of some simple output&lt;\/h3&gt; \r\n \r\n&lt;cfoutput&gt; \r\n    This page was generated at #now()#&lt;br&gt; \r\n&lt;\/cfoutput&gt; \r\n \r\n&lt;cfparam name = &quot;URL.x&quot; default = &quot;no URL parm passed&quot;&gt; \r\n&lt;cfoutput&gt;The value of URL.x = # URL.x #&lt;\/cfoutput&gt;<br>","USAGE":"<!-- --><br><strong>ColdFusion 9 additions<\/strong><br>The following is new information applies to features added for ColdFusion 9. For additional information, see the History section and the Attributes table.<br><strong>Page fragments:<\/strong> To cache a page fragment, put the fragment in the body of the tag, between the begin tag and the end tag. Do not use a tag body to cache full pages or objects.<br><strong>flush:<\/strong> The <samp class=\"codeph\">flush<\/samp> action can have two formats: One uses the <samp class=\"codeph\">ExpireURL<\/samp> attribute to specify the page to flush, the other uses the <samp class=\"codeph\">id<\/samp> attribute to specify the object to flush. When you flush an object, ColdFusion ignores errors by default. If you specify a <samp class=\"codeph\">throwOnError<\/samp> attribute with a <samp class=\"codeph\">true<\/samp> value, the action throws the errors, and you can use a catch block to handle them. This is useful to determine if you use invalid cache ID values.<br><strong>User-defined cache:<\/strong> To create user-defined cache,<br><ol>\n <li><p>Add the following snippet to the ehcache.xml (in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">CF_root\\<\/i>lib\\):<\/p> <pre>&lt;cache name=&quot;cf9&quot; \r\nmaxElementsInMemory=&quot;10000&quot; \r\neternal=&quot;false&quot; \r\ntimeToIdleSeconds=&quot;86400&quot; \r\ntimeToLiveSeconds=&quot;86400&quot; \r\noverflowToDisk=&quot;true&quot; \r\ndiskSpoolBufferSizeMB=&quot;30&quot; \r\nmaxElementsOnDisk=&quot;10000000&quot; \r\ndiskPersistent=&quot;true&quot; \r\ndiskExpiryThreadIntervalSeconds=&quot;3600&quot; \r\nmemoryStoreEvictionPolicy=&quot;LRU&quot;\/&gt;<\/pre> <\/li> \n <li><p>To reference the user-defined cache, use the key attribute as follows:<\/p> <pre>&lt;cfcache key=&quot;cf9&quot; timespan=#createtimespan(0,0,1,0)# &gt; \r\n      &lt;cfoutput&gt;#now()#&lt;\/cfoutput&gt; \r\n&lt;cfcache&gt;<\/pre> <\/li> \n<\/ol><br>By default, caching is memory-based and not disk-based. For each application, the default setting is 10000 object caches and 10000 template caches. It is important to note the limit imposed on the number of objects\/templates that can be cached.<br>Diskoverflow for caching by default is <samp class=\"codeph\">false<\/samp>. To enable disk caching, set <samp class=\"codeph\">overflowTodisk<\/samp> as <samp class=\"codeph\">true<\/samp> in the ehcache.xml. To make the cached data available on server restart, set <samp class=\"codeph\">diskPersistent<\/samp> to <samp class=\"codeph\">true<\/samp>.<br>For further details of the properties in the ehcache.xml, refer to the documentation available at the following URL:<br><a href=\"http:\/\/ehcache.org\/\" target=\"_self\">http:\/\/ehcache.org\/<\/a><br><strong>From ColdFusion 8 and earlier<\/strong><br>The following remaining information for this tag also applied to previous releases.<br>Use this tag in pages whose content is not updated frequently. Taking this action can greatly improve the performance of your application.<br>The output of a cached page is stored in a file on the client browser and\/or the ColdFusion server. Instead of regenerating and downloading the output of the page each time it is requested, ColdFusion uses the cached output. ColdFusion regenerates and downloads the page only when the cache is flushed, as specified by the <samp class=\"codeph\">timespan<\/samp> attribute, or by invoking <samp class=\"codeph\">cfcache action=flush<\/samp>.<br>To enable a simple form of caching, put a <samp class=\"codeph\">cfcache<\/samp> tag, specifying the <samp class=\"codeph\">timespan<\/samp> attribute, at the top of a page. Each time the specified time span passes, ColdFusion flushes (deletes) the copy of the page from the cache and caches a new copy for users to access.<br>You can specify client-side caching or a combination of client-side and server-side caching (the default), using the action attribute. The advantage of client-side caching is that it requires no ColdFusion resources; the browser stores pages in its own cache, improving performance. The advantage of combination caching is that it optimizes server performance; if the browser does not have a cache of the page, the server can get data from its own cache. (Adobe recommends that you use combination caching, and do not use server-side only caching.)<br>If a page contains personalized content, use the <samp class=\"codeph\">action = &quot;clientcache&quot;<\/samp> option to avoid the possibility of caching a personalized copy of a page for other users.<br>Debug settings have no effect on <samp class=\"codeph\">cfcache<\/samp> unless the application page enables debugging. When generating a cached file, <samp class=\"codeph\">cfcache<\/samp> uses <samp class=\"codeph\">cfsetting showDebugOutput = &quot;no&quot;<\/samp>.<br>The <samp class=\"codeph\">cfcache<\/samp> tag evaluates each unique URL, including URL parameters, as a distinct page, for caching purposes. For example, the output of http:\/\/server\/view.cfm?id=1 and the output of http:\/\/server\/view.cfm?id=2 are cached separately.<br>The <samp class=\"codeph\">cfcache<\/samp> tag uses the <samp class=\"codeph\">cfhttp<\/samp> tag to get the contents of a page to cache. If there is an HTTP error accessing the page, the contents are not cached. If a ColdFusion error occurs, the error is cached.<br>For more information, see <a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSc3ff6d0ea77859461172e0811cbec22c24-74e8.html\" target=\"_self\">Caching ColdFusion pages that change infrequently<\/a> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i>.<br><strong>Change in behaviour<\/strong><br>Till ColdFusion 9, the request query string was automatically used as part of the page identifier, so that pages with different query strings (URL parameters) are cached independent of each other. In ColdFusion 9, this behavior changed. Now you must specify the new optional attribute <samp class=\"codeph\">usequerystring<\/samp> with value set to <samp class=\"codeph\">true,<\/samp> to achieve the older behavior.<br>","Attribute":[{"REQOROPT":"All","DESCRIPTION":"serverCache","default":"Optional","Attribute":"action"},{"REQOROPT":"cache, serverCache, optimal","DESCRIPTION":"","default":"Optional","Attribute":"dependsOn"},{"REQOROPT":"cache,serverCache,clientCache,optimal, flush, put","DESCRIPTION":"Cache in memory","default":"Optional","Attribute":"directory"},{"REQOROPT":"flush","DESCRIPTION":"Flush all cached pages","default":"Optional","Attribute":"expireURL"},{"REQOROPT":"flush, get, put","DESCRIPTION":"","default":"See description","Attribute":"id"},{"REQOROPT":"cache,serverCache,clientCache,optimal, flush, put","DESCRIPTION":"No idle timeout","default":"Optional","Attribute":"idleTime"},{"REQOROPT":" ","DESCRIPTION":" ","default":"Optional","Attribute":"key"},{"REQOROPT":"get","DESCRIPTION":"","default":"Optional","Attribute":"metadata"},{"REQOROPT":"get","DESCRIPTION":"","default":"Required","Attribute":"name"},{"REQOROPT":"cache,serverCache,clientCache,optimal, flush","DESCRIPTION":"","default":"Optional","Attribute":"password"},{"REQOROPT":"cache,serverCache,clientCache,optimal, flush","DESCRIPTION":"The port for the current page","default":"Optional","Attribute":"port"},{"REQOROPT":"cache,serverCache,clientCache,optimal, flush","DESCRIPTION":"The current page protocol","default":"Optional","Attribute":"protocol"},{"REQOROPT":"cache,serverCache,optimal","DESCRIPTION":false,"default":"Optional","Attribute":"stripWhiteSpace"},{"REQOROPT":"flush with id attribute","DESCRIPTION":false,"default":"Optional","Attribute":"throwOnError"},{"REQOROPT":"cache,serverCache,clientCache,optimal, flush, put","DESCRIPTION":"See Description","default":"Optional","Attribute":"timespan"},{"REQOROPT":"cache,serverCache,optimal,","DESCRIPTION":true,"default":"Optional","Attribute":"useCache"},{"REQOROPT":" ","DESCRIPTION":false,"default":"Optional","Attribute":"usequerystring"},{"REQOROPT":"cache,serverCache,clientCache,optimal, flush","DESCRIPTION":"","default":"Optional","Attribute":"username"},{"REQOROPT":"put","DESCRIPTION":"","default":"Required","Attribute":"value"}]}