{"HISTORY":"<!-- --><br>ColdFusion 8: Added this tag<br>","SYNTAX":"<!-- --><br><strong>join<\/strong> \r\n    &lt;cfthread \r\n    <strong>required<\/strong> \r\n    name=&quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">thread name<\/i>[,<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">thread name<\/i>]...&quot; \r\n    <strong>optional<\/strong> \r\n    action=&quot;join&quot; \r\n    timeout=&quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">milliseconds<\/i>&quot;\/&gt; \r\n \r\n<strong>run<\/strong> \r\n    &lt;cfthread \r\n    <strong>required<\/strong> \r\n    <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">name=&quot;thread name&quot;<\/i> \r\n    <strong>optional<\/strong> \r\n    action=&quot;run&quot; \r\n    priority=&quot;NORMAL|HIGH|LOW&quot; \r\n    zero or more application-specific attributes&gt; \r\n \r\n        <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Thread code<\/i> \r\n \r\n    &lt;\/cfthread&gt; \r\n \r\n<strong>sleep<\/strong> \r\n    &lt;cfthread \r\n    <strong>required<\/strong> \r\n    action=&quot;sleep&quot; \r\n    duration=&quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">milliseconds<\/i>&quot;\/&gt; \r\n \r\n<strong>terminate<\/strong> \r\n    &lt;cfthread \r\n    <strong>required<\/strong> \r\n    action=&quot;terminate&quot; \r\n    name=&quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">thread name<\/i>&quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">\/&gt;<\/i><br>For all actions except <samp class=\"codeph\">run<\/samp>, the <samp class=\"codeph\">cfthread<\/samp> tag must have an empty body and be followed immediately by a <samp class=\"codeph\">&lt;\/cfthread&gt;<\/samp> end tag, or must have no end tag and have a slash before the tag closure, as in <samp class=\"codeph\">&lt;cfthread action=&quot;sleep&quot; duration=&quot;1000&quot;\/&gt;<\/samp>.<br><span class=\"notetitle\">Note: <\/span>You can specify this tag’s attributes in an \n<samp class=\"codeph\">attributeCollection<\/samp> attribute whose value is a structure. Specify the structure name in the \n<samp class=\"codeph\">attributeCollection<\/samp> attribute and use the tag’s attribute names as structure keys.<br>","CATEGORY":"Application framework tags","PAGENAME":"cfthread","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6f29.html\">Sleep<\/a><\/samp>, <a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSc3ff6d0ea77859461172e0811cbec22c24-7f6a.html\" target=\"_self\">Using ColdFusion Threads<\/a> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i><br>","DESCRIPTION":"The cfthread tag enables you to create threads, independent streams of code execution, in your ColdFusion application. You use this tag to run or end a thread, temporarily stop thread execution, or join together multiple threads.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>The following example uses three threads to get the results of three RSS feeds. The user must submit the form with all three feeds specified. The application joins the threads with a time-out of 6 seconds, and displays the feed titles and the individual item titles as links.<br>&lt;!--- Run this code if the feed URL form has been submitted. ---&gt; \r\n&lt;cfif isDefined(&quot;Form.submit&quot;)&gt; \r\n    &lt;cfloop index=&quot;i&quot; from=&quot;1&quot; to=&quot;3&quot;&gt; \r\n        &lt;!--- Use array notation and string concatenation to create a variable \r\n                 for this feed. ---&gt; \r\n        &lt;cfset theFeed = Form[&quot;Feed&quot;&amp;i]&gt; \r\n        &lt;cfif theFeed NEQ &quot;&quot;&gt; \r\n            &lt;!--- Use a separate thread to get each of the feeds. ---&gt; \r\n            <strong>&lt;cfthread action=&quot;run&quot; name=&quot;t#i#&quot; feed=&quot;#theFeed#&quot;&gt;<\/strong> \r\n                <strong>&lt;cffeed source=&quot;#feed#&quot; <\/strong> \r\n                    <strong>properties=&quot;thread.myProps&quot; <\/strong> \r\n                    <strong>query=&quot;thread.myQuery&quot;&gt;<\/strong> \r\n            <strong>&lt;\/cfthread&gt;<\/strong> \r\n        &lt;cfelse&gt; \r\n            &lt;!--- If the user didn't fill all fields, show an error message. ---&gt; \r\n            &lt;h3&gt;This example requires three feeds.&lt;br \/&gt; \r\n            Click the Back button and try again.&lt;\/h3&gt; \r\n            &lt;cfabort&gt; \r\n        &lt;\/cfif&gt; \r\n    &lt;\/cfloop&gt; \r\n \r\n    &lt;!--- Join the three threads. Use a 6 second time-out. ---&gt; \r\n    <strong>&lt;cfthread action=&quot;join&quot; name=&quot;t1,t2,t3&quot; timeout=&quot;6000&quot; \/&gt;<\/strong> \r\n     \r\n    &lt;!--- Use a loop to display the results from the feeds. ---&gt; \r\n    &lt;cfloop index=&quot;i&quot; from=&quot;1&quot; to=&quot;3&quot;&gt; \r\n        &lt;!--- Use the cfthread scope and associative array notation to get the \r\n                Thread scope dynamically. ---&gt; \r\n        &lt;cfset feedResult=cfthread[&quot;t#i#&quot;]&gt; \r\n        &lt;!--- Display feed information only if you got items, \r\n                 for example the feed must complete before the join. ---&gt; \r\n        &lt;cfif isDefined(&quot;feedResult.myQuery&quot;)&gt; \r\n            &lt;cfoutput&gt;&lt;h2&gt;#feedResult.myProps.title#&lt;\/h2&gt;&lt;\/cfoutput&gt; \r\n            &lt;cfoutput query=&quot;feedResult.myQuery&quot;&gt; \r\n                &lt;p&gt;&lt;a href=&quot;#RSSLINK#&quot;&gt;#TITLE#&lt;\/a&gt;&lt;\/p&gt; \r\n            &lt;\/cfoutput&gt; \r\n        &lt;\/cfif&gt; \r\n    &lt;\/cfloop&gt; \r\n \r\n&lt;\/cfif&gt; \r\n \r\n&lt;!--- The form for entering the feeds to aggregate. ---&gt; \r\n&lt;cfform&gt; \r\n    &lt;h3&gt;Enter three RSS Feeds&lt;\/h3&gt; \r\n    &lt;cfinput type=&quot;text&quot; size=&quot;100&quot; name=&quot;Feed1&quot; validate=&quot;url&quot; \r\n        value=&quot;http:\/\/rss.adobe.com\/events.rss?locale=en&quot;&gt;&lt;br \/&gt; \r\n    &lt;cfinput type=&quot;text&quot; size=&quot;100&quot; name=&quot;Feed2&quot; validate=&quot;url&quot; \r\n        value=&quot;http:\/\/weblogs.macromedia.com\/dev_center\/index.rdf&quot;&gt;&lt;br \/&gt; \r\n    &lt;cfinput type=&quot;text&quot; size=&quot;100&quot; name=&quot;Feed3&quot; validate=&quot;url&quot;  \r\n        value=&quot;http:\/\/rss.adobe.com\/studio.rss?locale=en&quot;&gt;&lt;br \/&gt; \r\n    &lt;cfinput type=&quot;submit&quot; name=&quot;submit&quot;&gt; \r\n&lt;\/cfform&gt;<br>","USAGE":"<!-- --><br>Page-level code (code outside any <samp class=\"codeph\">cfthread<\/samp> tags) executes in its own thread, referred to as the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">page thread<\/i>. Only the page thread can create other threads. A thread that you create cannot create a child thread.<br><span class=\"notetitle\">Note: <\/span>If a thread never completes processing (is hung), it continues to occupy system resources. You can use the ColdFusion Sever Monitor to check for and terminate hung threads.<br>ColdFusion makes a complete (deep) copy of all the attribute variables before passing them to the thread, so the values of the variables inside the thread are independent of the values of any corresponding variables in other threads, including the page thread. Thus, the values passed to threads are thread safe because the attribute values cannot be changed by any other thread.<br>","Attribute":[{"REQOROPT":"Optional","DESCRIPTION":"All","default":"run","Attribute":"action"},{"REQOROPT":"Required","DESCRIPTION":"sleep","default":"","Attribute":"duration"},{"REQOROPT":"Optional, Required, if action = \"join\" or \"terminate\"","DESCRIPTION":"join run terminate","default":"","Attribute":"name"},{"REQOROPT":"Optional","DESCRIPTION":"run","default":"NORMAL","Attribute":"priority"},{"REQOROPT":"Optional","DESCRIPTION":"join","default":0,"Attribute":"timeout"}]}