{"HISTORY":"<!-- --><br>ColdFusion 8: Added the ability to use a comma as a delimiter when specifying a list of variables in the <samp class=\"codeph\">returnAsBinary<\/samp> attribute, for example, <samp class=\"codeph\">returnAsBinary=&quot;objectGUID,objectSID&quot;<\/samp>. Previously, the allowed delimiter was a space.<br>ColdFusion MX 7: Added the <samp class=\"codeph\">returnAsBinary<\/samp> attribute. Added SSL V2 client based authentication; this means that ColdFusion supports the CFSSL_CLIENT_AUTH option. If CFSSL_CLIENT_AUTH is selected, ColdFusion assumes that the first certificate in the cacerts (or the certificate database) contains the Client Certificate.<br>ColdFusion MX:<br><li><p>Changed the <samp class=\"codeph\">name<\/samp> attribute behavior: this tag validates the query name in the <samp class=\"codeph\">name<\/samp> attribute.<\/p> <\/li> \n<li><p>Changed sorting behavior: this tag does not support client-side sorting of query results. (It supports server-side sorting; use the <samp class=\"codeph\">sort<\/samp> and <samp class=\"codeph\">sortcontrol<\/samp> attributes.) <\/p> <\/li> \n<li><p>Changed how results are sorted: server-side sorting results might be sorted slightly differently than in ColdFusion 5. If you attempt a sort against a server that does not support it, ColdFusion MX throws an error. <\/p> <\/li> \n<li><p>Deprecated the <samp class=\"codeph\">filterConfig<\/samp> and <samp class=\"codeph\">filterFile<\/samp> attributes. They might not work, and might cause an error, in later releases.<\/p> <\/li><br>","SYNTAX":"<!-- --><br>&lt;cfldap  \r\n    action = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">action<\/i>&quot; \r\n    server = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">server name<\/i>&quot; \r\n    attributes = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">attribute, attribute<\/i>&quot; \r\n    delimiter = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">delimiter character<\/i>&quot; \r\n    dn = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">distinguished name<\/i>&quot; \r\n    filter = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">filter<\/i>&quot; \r\n    maxRows = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">number<\/i>&quot; \r\n    modifyType = &quot;replace|add|delete&quot; \r\n    name = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">name<\/i>&quot; \r\n    password = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">password<\/i>&quot; \r\n    port = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">port number<\/i>&quot; \r\n    rebind = &quot;yes|no&quot; \r\n    referral = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">number of allowed hops<\/i>&quot; \r\n    returnAsBinary = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">column name, column name<\/i>&quot; \r\n    scope = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">scope<\/i>&quot; \r\n    secure = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">multifield security string<\/i>&quot; \r\n    separator = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">separator character<\/i>&quot; \r\n    sort = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">attribute[, attribute]...<\/i>&quot; \r\n    sortControl = &quot;nocase|desc|asc&quot; \r\n    start = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">distinguished name<\/i>&quot; \r\n    startRow = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">row number<\/i>&quot; \r\n    timeout = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">milliseconds<\/i>&quot; \r\n    username = &quot;<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">user name<\/i>&quot;&gt;<br><span class=\"notetitle\">Note: <\/span>You can specify this tag’s attributes in an \n<samp class=\"codeph\">attributeCollection<\/samp> attribute whose value is a structure. Specify the structure name in the \n<samp class=\"codeph\">attributeCollection<\/samp> attribute and use the tag’s attribute names as structure keys.<br>","CATEGORY":"Internet protocol tags","PAGENAME":"cfldap","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7c7d.html\">cfftp<\/a><\/samp><samp class=\"codeph\">, <\/samp><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7ffc.html\">cfhttp<\/a><\/samp><samp class=\"codeph\">, <\/samp><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7f8e.html\">cfmail<\/a><\/samp><samp class=\"codeph\">, <\/samp><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7c15.html\">cfmailparam<\/a><\/samp><samp class=\"codeph\">, <\/samp><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7f96.html\">cfpop<\/a><\/samp><samp class=\"codeph\">,<\/samp><samp class=\"codeph\"><a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSc3ff6d0ea77859461172e0811cbec22c24-7c24.html\" target=\"_self\">Managing LDAP Directories<\/a><\/samp> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i><br>","DESCRIPTION":"Provides an interface to a Lightweight Directory Access Protocol (LDAP) directory server, such as the Netscape Directory Server.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>&lt;h3&gt;cfldap Example&lt;\/h3&gt; \r\n&lt;p&gt;Provides an interface to LDAP directory servers. The example uses the  \r\nUniversity of Connecticut public LDAP server. For more public LDAP servers, \r\nsee &lt;a href=&quot;http:\/\/www.emailman.com&quot;&gt;http:\/\/www.emailman.com&lt;\/a&gt;.&lt;\/p&gt; \r\n&lt;p&gt;Enter a name and search the public LDAP resource.  \r\nAn asterisk before or after the name acts as a wildcard.&lt;\/p&gt; \r\n&lt;!--- If form.name exists, the form was submitted; run the query. ---&gt; \r\n&lt;cfif IsDefined(&quot;form.name&quot;)&gt; \r\n    &lt;!--- Check to see that there is a name listed. ---&gt; \r\n    &lt;cfif form.name is not &quot;&quot;&gt; \r\n        &lt;!--- Make the LDAP query. ---&gt; \r\n        &lt;cfldap  \r\n             server = &quot;ldap.uconn.edu&quot; \r\n             action = &quot;query&quot; \r\n             name = &quot;results&quot; \r\n             start = &quot;dc=uconn,dc=edu&quot; \r\n             filter = &quot;cn=#name#&quot; \r\n             attributes = &quot;cn,o,title,mail,telephonenumber&quot; \r\n             sort = &quot;cn ASC&quot;&gt; \r\n        &lt;!--- Display results. ---&gt; \r\n        &lt;center&gt; \r\n        &lt;table border = 0 cellspacing = 2 cellpadding = 2&gt; \r\n            &lt;tr&gt; \r\n                &lt;th colspan = 5&gt; \r\n                    &lt;cfoutput&gt;#results.recordCount# matches found &lt;\/cfoutput&gt;&lt;\/TH&gt; \r\n            &lt;\/tr&gt; \r\n            &lt;tr&gt; \r\n                &lt;th&gt;&lt;font size = &quot;-2&quot;&gt;Name&lt;\/font&gt;&lt;\/TH&gt; \r\n                &lt;th&gt;&lt;font size = &quot;-2&quot;&gt;Organization&lt;\/font&gt;&lt;\/TH&gt; \r\n                &lt;th&gt;&lt;font size = &quot;-2&quot;&gt;Title&lt;\/font&gt;&lt;\/TH&gt; \r\n                &lt;th&gt;&lt;font size = &quot;-2&quot;&gt;E-Mail&lt;\/font&gt;&lt;\/TH&gt; \r\n                &lt;th&gt;&lt;font size = &quot;-2&quot;&gt;Phone&lt;\/font&gt;&lt;\/TH&gt; \r\n            &lt;\/tr&gt; \r\n            &lt;cfoutput query = &quot;results&quot;&gt; \r\n                &lt;tr&gt; \r\n                    &lt;td&gt;&lt;font size = &quot;-2&quot;&gt;#cn#&lt;\/font&gt;&lt;\/td&gt; \r\n                    &lt;td&gt;&lt;font size = &quot;-2&quot;&gt;#o#&lt;\/font&gt;&lt;\/td&gt; \r\n                    &lt;td&gt;&lt;font size = &quot;-2&quot;&gt;#title#&lt;\/font&gt;&lt;\/td&gt; \r\n                    &lt;td&gt;&lt;font size = &quot;-2&quot;&gt; \r\n                        &lt;A href = &quot;mailto:#mail#&quot;&gt;#mail#&lt;\/A&gt;&lt;\/font&gt;&lt;\/td&gt; \r\n                    &lt;td&gt;&lt;font size = &quot;-2&quot;&gt;#telephonenumber#&lt;\/font&gt;&lt;\/td&gt; \r\n                &lt;\/tr&gt; \r\n            &lt;\/cfoutput&gt; \r\n            &lt;\/table&gt; \r\n            &lt;\/center&gt; \r\n        &lt;\/cfif&gt; \r\n&lt;\/cfif&gt; \r\n \r\n&lt;form action=&quot;#cgi.script_name#&quot; method=&quot;POST&quot;&gt; \r\n    &lt;p&gt;Enter a name to search in the database.&lt;\/p&gt; \r\n    &lt;input type=&quot;Text&quot; name=&quot;name&quot;&gt; \r\n    &lt;input type=&quot;Submit&quot; value=&quot;Search&quot; name=&quot;&quot;&gt; \r\n&lt;\/form&gt;<br>","USAGE":"<!-- --><br>If you use the query action, <samp class=\"codeph\">cfldap<\/samp> creates a query object, allowing access to information in the query variables, as follows:<br><table border=\"1\" cellpadding=\"4\" cellspacing=\"0\">\n <thead align=\"left\">\n  <tr>\n   <th valign=\"top\" width=\"NaN%\" id=\"d17e60673\"><p>Variable name<\/p> <\/th> \n   <th valign=\"top\" width=\"NaN%\" id=\"d17e60676\"><p>Description<\/p> <\/th> \n  <\/tr> \n <\/thead> \n <tbody>\n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e60673 \"><p><i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">queryname<\/i>.recordCount<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e60676 \"><p>Number of records returned by query<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e60673 \"><p><i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">queryname<\/i>.currentRow<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e60676 \"><p>Current row of query that <samp class=\"codeph\">cfoutput<\/samp> is processing<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e60673 \"><p><i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">queryname<\/i>.columnList<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e60676 \"><p>Column names in query<\/p> <\/td> \n  <\/tr> \n <\/tbody> \n<\/table><br>If you use the <samp class=\"codeph\">security=&quot;CFSSL_BASIC&quot;<\/samp> option, ColdFusion determines whether to trust the server by comparing the server’s certificate with the information in the jre\/lib\/security\/cacerts keystore of the JRE used by ColdFusion. The ColdFusion default cacerts file contains information about many certificate granting authorities. If you must update the file with additional information, you can use the keytool utility in the ColdFusion jre\/bin directory to import certificates that are in X.509 format. For example, enter the following:<br>keytool -import -keystore cacerts -alias ldap -file ldap.crt -keypass bl19mq<br>Then restart ColdFusion. The keytool utility initial <samp class=\"codeph\">keypass<\/samp> password is “change it”. For more information on using the keytool utility, see the Sun JDK documentation.<br>Characters that are illegal in ColdFusion can be used in LDAP attribute names. As a result, the <samp class=\"codeph\">cfldap<\/samp> tag could create columns in the query result set whose names contain illegal characters and are, therefore, inaccessible in CFML. In ColdFusion, illegal characters are automatically mapped to the underscore character; therefore, column names in the query result set might not exactly match the names of the LDAP attributes.<br>For usage examples, see the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i>.<br>","Attribute":[{"REQOROPT":"Required","DESCRIPTION":"query: returns LDAP entry information only. Requires name, start, and attributes attributes. add: adds LDAP entries to LDAP server. Requires attributes attribute. modify: modifies LDAP entries, except distinguished name dn attribute, on LDAP server. Requires dn. See modifyType attribute. modifyDN: modifies distinguished name attribute for LDAP entries on LDAP server. Requires dn. delete: deletes LDAP entries on an LDAP server. Requires dn.","default":"query","Attribute":"action"},{"REQOROPT":"Required","DESCRIPTION":"Host name or IP address of LDAP server.","default":"","Attribute":"server"},{"REQOROPT":"Required if action=\"Query\", \"Add\", \"ModifyDN\", or \"Modify\"","DESCRIPTION":"For queries: comma-delimited list of attributes to return. For queries, to get all attributes, specify \"*\". If action=\"add\"or\"modify\", you can specify a list of update columns. Separate attributes with a semicolon. If action=\"ModifyDN\", ColdFusion passes attributes to the LDAP server without syntax checking.","default":"","Attribute":"attributes"},{"REQOROPT":"Optional","DESCRIPTION":"Separator between attribute name-value pairs. Use this attribute if either of these situations exist: The attributes attribute specifies more than one item. An attribute contains the default delimiter (semicolon), for example: mgrpmsgrejecttext;lang-en Used by query, add, and modify actions, and by cfldap to output multi-value attributes. For example, if $ (dollar sign), you could specify \"cn=DoubleTreeInn$street=1111Elm;Suite100, where the semicolon is part of the street value.","default":"; (semicolon)","Attribute":"delimiter"},{"REQOROPT":"Required if action=\"Add\",\"Modify\", \"ModifyDN\", or \"delete\"","DESCRIPTION":"Distinguished name, for update action, for example, \"cn=BobJensen,o=AceIndustry,c=US\"","default":"","Attribute":"dn"},{"REQOROPT":"Optional","DESCRIPTION":"Search criteria for action=\"query\". List attributes in the form: \"(attributeoperatorvalue)\" For example: \"(sn=Smith)\"","default":"\"objectclass = *\"","Attribute":"filter"},{"REQOROPT":"Optional","DESCRIPTION":"Maximum number of entries for LDAP queries.","default":"","Attribute":"maxRows"},{"REQOROPT":"Optional","DESCRIPTION":"How to process an attribute in a multi-value list: add: appends it to any attributes. delete: deletes it from the set of attributes. replace: replaces it with specified attributes. You cannot add an attribute that is already present or that is empty.","default":"replace","Attribute":"modifyType"},{"REQOROPT":"Required if action=\"Query\"","DESCRIPTION":"Name of LDAP query. The tag validates the value.","default":"","Attribute":"name"},{"REQOROPT":"Required if secure=\"CFSSL_BASIC\"","DESCRIPTION":"Password that corresponds to user name. If secure =\"CFSSL_BASIC\", V2 encrypts the password before transmission.","default":"","Attribute":"password"},{"REQOROPT":"Optional","DESCRIPTION":"Port.","default":389,"Attribute":"port"},{"REQOROPT":"Optional","DESCRIPTION":"yes: attempts to rebind referral callback and reissue query by referred address using original credentials. no: referred connections are anonymous.","default":false,"Attribute":"rebind"},{"REQOROPT":"Optional","DESCRIPTION":"Integer. Number of hops allowed in a referral. A value of 0 disables referred addresses for LDAP; no data is returned.","default":"","Attribute":"referral"},{"REQOROPT":"Optional","DESCRIPTION":"A space-delimited list of columns that are to be returned as binary values.","default":"","Attribute":"returnAsBinary"},{"REQOROPT":"Optional","DESCRIPTION":"Scope of search, from entry specified in start attribute for action=\"Query\". oneLevel: entries one level below entry. base: only the entry. subtree: entry and all levels below it.","default":"oneLevel","Attribute":"scope"},{"REQOROPT":"Optional","DESCRIPTION":"Security to employ, and required information. If you specify this attribute, its value must be CFSSL_BASIC, which provides V2 SSL encryption and server authentication.","default":"","Attribute":"secure"},{"REQOROPT":"Optional","DESCRIPTION":"Delimiter to separate attribute values of multi-value attributes. Used by query, add, and modify actions, and by cfldap to output multi-value attributes. For example, if $ (dollar sign), the attributes attribute could be \"objectclass=top$person\", where the first value of objectclass is top, and the second value is person. This avoids confusion if values include commas.","default":", (comma)","Attribute":"separator"},{"REQOROPT":"Optional","DESCRIPTION":"Attributes by which to sort query results. Use a comma delimiter.","default":"","Attribute":"sort"},{"REQOROPT":"Optional","DESCRIPTION":"nocase: case-insensitive sort. asc: ascending (a to z) case-sensitive sort. desc: descending (z to a) case-sensitive sort. You can enter a combination of sort types; for example, sortControl=\"nocase,asc\".","default":"asc","Attribute":"sortControl"},{"REQOROPT":"Required if action=\"Query\"","DESCRIPTION":"Distinguished name of entry to be used to start a search.","default":"","Attribute":"start"},{"REQOROPT":"Optional","DESCRIPTION":"Used with action=\"query\". First row of LDAP query to insert into a ColdFusion query.","default":1,"Attribute":"startRow"},{"REQOROPT":"Optional","DESCRIPTION":"Maximum length of time, in milliseconds, to wait for LDAP processing.","default":60000,"Attribute":"timeout"},{"REQOROPT":"Required if secure=\"CFSSL_BASIC\"","DESCRIPTION":"User ID.","default":"(anonymous)","Attribute":"username"}]}