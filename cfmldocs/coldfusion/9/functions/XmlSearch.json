{"HISTORY":"<!-- --><br>ColdFusion 8: Added support for returning any valid XPath result, not just arrays of XML object nodes.<br>ColdFusion MX 7: Added support for attribute searches.<br>ColdFusion MX: Added this function.<br>","SYNTAX":"<!-- --><br>XmlSearch(<i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">xmlDoc<\/i>, <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">xPathString<\/i>)<br>","CATEGORY":"XML functions","PAGENAME":"XmlSearch","SEEALSO":"<!-- --><br><samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7697.html\">cfxml<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-7f67.html\">IsXML<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6e92.html\">XmlChildPos<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6e90.html\">XmlParse<\/a><\/samp>, <samp class=\"codeph\"><a href=\"WSc3ff6d0ea77859461172e0811cbec22c24-6e8e.html\">XmlTransform<\/a><\/samp>; <a href=\"http:\/\/help.adobe.com\/en_US\/ColdFusion\/9.0\/Developing\/WSc3ff6d0ea77859461172e0811cbec22c24-7fb3.html\" target=\"_self\">Using XML and WDDX<\/a> in the <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">Developing ColdFusion Applications<\/i><br>","DESCRIPTION":"Uses an XPath language expression to search an XML document object.","LICENCE":"http:\/\/help.adobe.com\/en_US\/ColdFusion\/10.0\/LegalNotices\/index.html","EXAMPLE":"<!-- --><br>The following example extracts the elements named <i xmlns:fn=\"http:\/\/www.w3.org\/2005\/xpath-functions\" xmlns:fo=\"http:\/\/www.w3.org\/1999\/XSL\/Format\" xmlns:xs=\"http:\/\/www.w3.org\/2001\/XMLSchema\">last<\/i>, which contain employee last names, from an XML file, and displays the names.<br>The employeesimple.xml file contains the following XML:<br>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n&lt;employee&gt; \r\n&lt;!-- A list of employees --&gt; \r\n    &lt;name EmpType=&quot;Regular&quot;&gt; \r\n&lt;first&gt;Almanzo&lt;\/first&gt; \r\n&lt;last&gt;Wilder&lt;\/last&gt; \r\n    &lt;\/name&gt; \r\n    &lt;name EmpType=&quot;Contract&quot;&gt; \r\n&lt;first&gt;Laura&lt;\/first&gt; \r\n&lt;last&gt;Ingalls&lt;\/last&gt; \r\n    &lt;\/name&gt; \r\n&lt;\/employee&gt;<br>The CFML file contains the following lines:<br>&lt;cfscript&gt; \r\n    myxmldoc = XmlParse(&quot;C:\\CFusionMX7\\wwwroot\\examples\\employeesimple.xml&quot;); \r\n    selectedElements = XmlSearch(myxmldoc, &quot;\/employee\/name\/last&quot;); \r\n    for (i = 1; i LTE ArrayLen(selectedElements); i = i + 1) \r\n        writeoutput(selectedElements[i].XmlText &amp; &quot;&lt;br&gt;&quot;); \r\n&lt;\/cfscript&gt;<br>","USAGE":"<!-- --><br>The <samp class=\"codeph\">XmlSearch<\/samp> function attempts to return the values returned by the search whenever possible. For example, if the XPath expression returns a Boolean, the CFML variable is assigned a <samp class=\"codeph\">true<\/samp> or <samp class=\"codeph\">false<\/samp> value.<br>The following table lists XPath expression result data types and how they are represented in the CFML return value.<br><table border=\"1\" cellpadding=\"4\" cellspacing=\"0\">\n <thead align=\"left\">\n  <tr>\n   <th valign=\"top\" width=\"NaN%\" id=\"d17e172060\"><p>XPath return type<\/p> <\/th> \n   <th valign=\"top\" width=\"NaN%\" id=\"d17e172063\"><p>ColdFusion representation<\/p> <\/th> \n  <\/tr> \n <\/thead> \n <tbody>\n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172060 \"><p>Boolean<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172063 \"><p>Boolean<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172060 \"><p>Null<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172063 \"><p>&quot;&quot; (empty string)<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172060 \"><p>Number<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172063 \"><p>Number<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172060 \"><p>String<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172063 \"><p>String<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172060 \"><p>NodeSet<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172063 \"><p>Array of XML nodes<\/p> <\/td> \n  <\/tr> \n  <tr>\n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172060 \"><p>Result Tree Fragment<\/p> <\/td> \n   <td valign=\"top\" width=\"NaN%\" headers=\"d17e172063 \"><p>Array of XML nodes<\/p> <\/td> \n  <\/tr> \n <\/tbody> \n<\/table><br>Results that are <samp class=\"codeph\">Unknown<\/samp> or have an unresolved variable in the expression throw an error.<br>XPath is specified by the World Wide Web Consortium (W3C). For detailed information on XPath, including XPath expression syntax, see the W3C website at <a href=\"http:\/\/www.w3.org\/TR\/xpath\" target=\"_self\">www.w3.org\/TR\/xpath<\/a>.<br>","Parameter":[{"DESCRIPTION":"XML document object","Parameter":"xmlDoc"},{"DESCRIPTION":"XPath expression","Parameter":"xPathString"}]}